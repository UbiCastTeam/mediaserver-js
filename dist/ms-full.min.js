function MSAPIClient(e){this.baseUrl="",this.useProxy=!1,this.extraData=null,this.defaultsErrorsMessages={401:jsu.translate("You are not logged in or your session has expired. Please login and retry."),403:jsu.translate("Access denied."),404:jsu.translate("Item not found."),500:jsu.translate("An internal server error occurred. An email has been sent to the support team."),timeout:jsu.translate("The connection timed out. Please retry later."),unreachable:jsu.translate("The server cannot be reached.")},this.calls={ping:{method:"GET",url:"/api/v2/"},search:{method:"GET",url:"/api/v2/search/",errors:{403:jsu.translate("Unable to get search's results content because you cannot access to this channel."),404:jsu.translate("Requested channel does not exist.")}},getLatestContent:{method:"GET",url:"/api/v2/latest/"},getChannelsList:{method:"GET",url:"/api/v2/channels/"},getChannelsContent:{method:"GET",url:"/api/v2/channels/content/",errors:{403:jsu.translate("Unable to get channel content because you cannot access to this channel."),404:jsu.translate("Requested channel does not exist.")}},getChannels:{method:"GET",url:"/api/v2/channels/get/",errors:{403:jsu.translate("Unable to get channel information because you cannot access to this channel."),404:jsu.translate("Requested channel does not exist.")}},getChannelsTree:{method:"GET",url:"/api/v2/channels/tree/",errors:{403:jsu.translate("Unable to get channels tree because you cannot access to this channel."),404:jsu.translate("Requested channel does not exist.")}},getChannelsPath:{method:"GET",url:"/api/v2/channels/path/",errors:{403:jsu.translate("Unable to get channels path because you cannot access to this channel."),404:jsu.translate("Requested channel does not exist.")}},getChannelsPersonal:{method:"GET",url:"/api/v2/channels/personal/"},getMediasList:{method:"GET",url:"/api/v2/medias/"},getMedias:{method:"GET",url:"/api/v2/medias/get/",errors:{403:jsu.translate("Unable to get media information because you cannot access to this media."),404:jsu.translate("Media does not exist.")}},addMedias:{method:"POST",url:"/api/v2/medias/add/"},mediasResourcesCheck:{method:"POST",url:"/api/v2/medias/resources-check/"},mediasTrimmingChildInit:{method:"POST",url:"/api/v2/medias/trimming-child-init/"},mediasGetUploadConfig:{method:"GET",url:"/api/v2/medias/get-upload-config/"},getLivesList:{method:"GET",url:"/api/v2/lives/"},prepareLives:{method:"POST",url:"/api/v2/lives/prepare/"},startLives:{method:"POST",url:"/api/v2/lives/start/"},stopLives:{method:"POST",url:"/api/v2/lives/stop/",errors:{403:jsu.translate("You are not allowed to perform this action."),404:jsu.translate("Media does not exist.")}},livesChangeSlides:{method:"POST",url:"/api/v2/lives/change-slide/"},livesChangeStatus:{method:"POST",url:"/api/v2/lives/change-status/"},livesGetViewers:{method:"GET",url:"/api/v2/lives/get-viewers/"},listMediaAnnotations:{method:"GET",url:"/api/v2/annotations/list/"},listMediaUserAnnotations:{method:"GET",url:"/api/v2/annotations/list/moderate/"},listAnnotationsTypes:{method:"GET",url:"/api/v2/annotations/types/list/"},voteForAnnotation:{method:"POST",url:"/api/v2/annotations/vote/"},postAnnotation:{method:"POST",url:"/api/v2/annotations/post/"},validateAnnotation:{method:"POST",url:"/api/v2/annotations/validate/"},unvalidateAnnotation:{method:"POST",url:"/api/v2/annotations/unvalidate/"},deleteAnnotation:{method:"POST",url:"/api/v2/annotations/delete/"},listMediaSlides:{method:"GET",url:"/api/v2/annotations/slides/list/"},listMediaResources:{method:"GET",url:"/api/v2/annotations/resources/list/"},listMediaChapters:{method:"GET",url:"/api/v2/annotations/chapters/list/"},listMediaActivities:{method:"GET",url:"/api/v2/annotations/activities/list/"},emailNotification:{method:"POST",url:"/api/v2/annotations/notification/"},searchAnnotations:{method:"GET",url:"/api/v2/annotations/search/"},listCategories:{method:"GET",url:"/api/v2/categories/"}},this.configure(e)}function MSBrowserChannels(e){this.browser=null,this.displayItunesRss=!1,this.currentChannelOid="0",this.$menu=null,this.$content=null,this.treeManager=null,this.order="default",this.lastResponse=null,jsu.setObjectAttributes(this,e,["browser","displayItunesRss","currentChannelOid"]),this.initOptions=e||{}}function MSBrowserLatest(e){this.browser=null,this.$menu=null,this.$content=null,this.$place=null,this.lastResponse=null,this.more=!1,this.startDate="",this.dateLabel="",this.$section=null,jsu.setObjectAttributes(this,e,["browser"]),this.initOptions=e||{}}function MSBrowserSearch(e){if(this.browser=null,this.$menu=null,this.$content=null,this.order="default",this.lastResponse=null,this.loadingSearch=!1,this.searchInFields=[{name:"in_title",label:jsu.translateHTML("titles"),initial:!0,items:null},{name:"in_description",label:jsu.translateHTML("descriptions"),initial:!1,items:null},{name:"in_keywords",label:jsu.translateHTML("keywords"),initial:!0,items:null},{name:"in_speaker",label:jsu.translateHTML("speakers"),initial:!0,items:"vlp"},{name:"in_license",label:jsu.translateHTML("licenses"),initial:!1,items:"vlp"},{name:"in_company",label:jsu.translateHTML("companies"),initial:!1,items:"vlp"},{name:"in_location",label:jsu.translateHTML("locations"),initial:!1,items:"vlp"},{name:"in_categories",label:jsu.translateHTML("categories"),initial:!1,items:"vlp"},{name:"in_annotations",label:jsu.translateHTML("comments, slides, ..."),initial:!1,items:"vlp"},{name:"in_photos",label:jsu.translateHTML("photos"),initial:!1,items:"p"},{name:"in_extref",label:jsu.translateHTML("external references"),initial:!0,items:null},{name:"in_extdata",label:jsu.translateHTML("external data"),initial:!1,items:null}],e.defaultSearchIn)for(let t=0;t<this.searchInFields.length;t++){const s=this.searchInFields[t].name.replace("in_","");-1!==e.defaultSearchIn.indexOf(s)?this.searchInFields[t].initial=!0:this.searchInFields[t].initial=!1}this.searchForFields=[{name:"for_channels",label:jsu.translateHTML("channels"),initial:!0,items:"c"},{name:"for_videos",label:jsu.translateHTML("videos"),initial:!0,items:"v"},{name:"for_lives",label:jsu.translateHTML("live streams"),initial:!0,items:"l"},{name:"for_photos",label:jsu.translateHTML("photos groups"),initial:!0,items:"p"}],jsu.setObjectAttributes(this,e,["browser"]),this.initOptions=e||{}}function MSBrowser(e){if(this.title="",this.place=null,this.selectableContent="cvlp",this.displayableContent="cvlp",this.filterEditable=null,this.filterValidated=null,this.filterSpeaker=null,this.filterCategories=[],this.filterNoCategories=!1,this.parentSelectionOid=null,this.initialOid=null,this.initialState=null,this.onPick=null,this.hideHeader=!1,this.btnClass="",this.msapi=null,this.treeManager=!0,this.displayTypesIcons=!1,this.displayItunesRss=!0,this.useOverlay=!0,this.pickMode=!0,this.iframeMode=!1,this.ltiMode=!1,this.linksUrlParams="",this.linksTarget="",this.$widget=null,this.$menu=null,this.$main=null,this.overlay=null,this.catalog={},this.displayAsThumbnails=!1,this.displayed="channels",this.currentSelection=null,this.siteSettingsCategories=[],this.catalogFieldsToDisplay=["duration","description","creation_date","views","annotations","storage","rss_links","channel_content","add_date","type","parent"],this.urlLogin="/login/",this.urlChannels="/channels/",this.urlLatest="/latest/",this.urlSearch="/search/",this.defaultSearchIn=[],this.moreChannels=[],this.moreLiveStreams=[],this.moreVideos=[],this.morePhotosGroups=[],this.displayCount=jsu.getCookie("catalog-displayCount")||30,jsu.setObjectAttributes(this,e,["title","place","msapi","selectableContent","displayableContent","filterEditable","filterValidated","filterSpeaker","parentSelectionOid","initialOid","initialState","onPick","hideHeader","btnClass","treeManager","displayTypesIcons","displayItunesRss","defaultSearchIn","catalogFieldsToDisplay"]),this.msapi||(this.msapi=new MSAPIClient(e)),this.initOptions=e||{},this.useOverlay=!this.place,!this.useOverlay){const e=this;$(document).ready(function(){e.init()})}}function MSTreeManager(e){if(this.$place=null,this.msapi=null,this.displayRoot=!1,this.displayPersonal=!1,this.autoInit=!0,this.currentChannelOid="0",this.onChange=null,this.onDataRetrieved=null,this.onTreeLoaded=null,this.channelsBaseUrl="/channels/#",this.channelsUrlField="slug",this.treeUrl="",this.pathUrl="",this.$widget=null,this.loaded=!1,this.loading=!1,this.content={0:{oid:"0",parent_oid:null}},this.loadingQueue={},this.hasPersonalChannel=!1,this.personalChannelInfo=null,jsu.setObjectAttributes(this,e,["$place","msapi","displayRoot","displayPersonal","autoInit","currentChannelOid","onChange","onDataRetrieved","onTreeLoaded","channelsBaseUrl","channelsUrlField","treeUrl","pathUrl"]),this.initialOid=this.currentChannelOid,this.msapi||(this.msapi=new MSAPIClient(e)),this.autoInit){const e=this;$(document).ready(function(){e.init()})}}jsu.addTranslations({"Access denied.":"Zugriff verweigert.","Add a sub channel":"Unterkanal hinzufügen","Add a video":"Video hinzufügen","Add date, ascending":"Hinzufügungsdatum, aufsteigend","Add date, descending":"Hinzufügungsdatum, absteigend","Added on":"Hinzugefügt am","An error occurred in the server. Please try again later.":"Auf dem Server ist ein Fehler aufgetreten. Bitte versuchen Sie es später erneut.","An internal server error occurred. An email has been sent to the support team.":"Ein interner Server-Fehler ist aufgetreten. Eine E-Mail wurde an das Support-Team gesendet.",Annotations:"Anmerkungen","Annotations last month":"Anmerkungen im letzten Monat",April:"April","Are you sure?":"Sind Sie sicher?",August:"August","Available space:":"Verfügbarer Platz:",B:"B",Categories:"Kategorien","Channel content:":"Kanalinhalt:","Channel does not exist.":"Der Kanal existiert nicht.",Channels:"Kanäle","Click to select this media":"Klicken Sie, um dieses Medium auszuwählen",Company:"Unternehmen","Company:":"Unternehmen:","Content types":"Inhaltstypen","Content types to display:":"Anzuzeigende Inhaltstypen:","Copy LTI link":"LTI-Link kopieren","Created on":"Erstellt am","Creation date, ascending":"Erstellungsdatum, aufsteigend","Creation date, descending":"Erstellungsdatum, absteigend",December:"Dezember",Delete:"Löschen","Delete all":"Alle löschen","Delete definitively":"Endgültig löschen","Deleted from":"Gelöscht von","Deleted on":"Gelöscht am",Display:"Anzeige","Display mode:":"Anzeigemodus:","Display {count} more items":"Weitere {count} Elemente anzeigen",Duration:"Dauer",Edit:"Bearbeiten","Editable:":"Bearbeitbar:","Failed to communicate with the service.":"Die Kommunikation mit dem Dienst ist fehlgeschlagen.",February:"Februar","Filters:":"Filter:",Go:"Los","Go to this item's original location (before the item was deleted).":"Wechseln Sie zum ursprünglichen Speicherort dieses Objekts (bevor es gelöscht wurde).","Hide this window":"Dieses Fenster ausblenden",Home:"Startseite","Item not found.":"Objekt nicht gefunden.",January:"Januar",July:"Juli",June:"Juni","Latest content":"Neuester Inhalt","Latest media":"Neueste Medien",License:"Lizenz","License:":"Lizenz:","Live streams":"Live-Streams",Loading:"Lädt","Loading...":"Lädt …","Main channels":"Hauptkanäle",March:"März","Matching annotations:":"Passende Anmerkungen:","Matching items:":"Übereinstimmende Elemente:","Matching photos:":"Passende Fotos:",May:"Mai","Media does not exist.":"Die referenzierte Mediendatei existiert nicht.","Media information":"Medieninformation","My channel":"Mein Kanal","My media":"Meine Medien","No available space":"Kein verfügbarer Platz","No contents.":"Keine Inhalte.","No information about error.":"Keine Informationen zu diesem Fehler verfügbar.","No results.":"Keine Ergebnisse.",November:"November","Number of items:":"Anzahl an Elementen:","Number of views, ascending":"Anzahl der Aufrufe, aufsteigend","Number of views, descending":"Anzahl der Aufrufe, absteigend",October:"Oktober",Ok:"OK","Open information panel":"Informationstafel öffnen","Open original channel":"Original-Kanal öffnen","Parent channel":"Übergeordneter Kanal","Parent channel:":"Übergeordneter Kanal:","Permanently delete everything in recycle bin":"Dauerhaftes Löschen aller Daten im Papierkorb","Photos groups":"Fotogruppen","Please login to access this channel":"Bitte melden Sie sich an, um auf diesen Kanal zuzugreifen","Please login to access this page":"Bitte melden Sie sich an, um auf diese Seite zuzugreifen","Published:":"Veröffentlicht:","Publishing date":"Erscheinungsdatum","Recording date":"Aufzeichnungsdatum","Request failed with code:":"Anfrage mit Code fehlgeschlagen:","Requested channel does not exist.":"Der angeforderte Kanal existiert nicht.",Restore:"Wiederherstellen","Restore all":"Alle wiederherstellen","Restore everything from the recycle bin. All items will be restored in their respective original channels. If the destination channel for an item doesn't exist anymore, the content will be moved to the fallback restoration channel.":"Stellen Sie alles aus dem Papierkorb wieder her. Alle Elemente werden in ihren jeweiligen ursprünglichen Kanälen wiederhergestellt. Wenn der Zielkanal für ein Element nicht mehr existiert, wird der Inhalt in den Ausweich-Wiederherstellungskanal verschoben.",Root:"Root",Search:"Suche","Search for":"Suche nach","Search in":"Suchen in","Search in my media":"Suche in meinen Medien","Search results for:":"Suchergebnisse für:","Search:":"Suchen:",See:"Anzeigen","See statistics on this channel":"Statistiken zu diesem Kanal anzeigen","Select a channel to display its content.":"Wählen Sie einen Kanal aus, um dessen Inhalt anzuzeigen.","Select this channel":"Diesen Kanal auswählen","Select this media":"Dieses Medium auswählen","Send an email to the managers of this channel":"Senden Sie eine E-Mail an die Manager dieses Kanals",September:"September","Sign in":"Anmelden","Slug, ascending":"Slug, aufsteigend","Slug, descending":"Slug, absteigend","Some contents may still exist in this channel but if it is the case your account is not allowed to see them.":"Einige Inhalte sind möglicherweise noch in diesem Kanal vorhanden. In diesem Fall dürfe Sie diese mit Ihrem Konto jedoch nicht anzeigen.","Sort by:":"Sortieren nach:",Speaker:"Sprecher","Speaker:":"Redner:",Statistics:"Statistiken","Storage usage":"Speicherauslastung","Storage usage:":"Speicherauslastung:","Sub channels":"Unterkanäle","Sub channels items are included in counts.":"Unterkanalelemente werden bei der Anzahl berücksichtigt.","Subscribe to channel videos RSS":"Kanalvideos abonnieren (RSS)","Subscribe to channel videos RSS:":"Kanalvideos abonnieren (RSS):","The connection timed out. Please retry later.":"Zeitüberschreitung der Verbindung. Bitte versuchen Sie es zu einem späteren Zeitpunkt erneut.","The server cannot be reached.":"Der Server kann nicht erreicht werden.","The storage quota of the parent channels can have an impact on the available space of this channel.":"Das Speicherkontingent der übergeordneten Kanäle kann sich auf den verfügbaren Speicherplatz dieses Kanals auswirken.","This channel contains no media.":"Dieser Kanal enthält keine Medien.","This channel contains no sub channels and no media.":"Dieser Kanal enthält keine Unterkanäle und keine Medien.","This channel contains no sub channels.":"Dieser Kanal enthält keine Unterkanäle.","This channel is selected":"Dieser Kanal ist ausgewählt","This channel is unlisted":"Dieser Kanal ist nicht gelistet","This item is a channel":"Dieses Element ist ein Kanal","This item is a live stream":"Dieses Element ist ein Live-Stream","This item is a photos group":"Dieses Element ist eine Fotogruppe","This item is a video":"Dieses Element ist ein Video","This item is in the recycle bin":"Dieses Element befindet sich im Papierkorb","This item will be restored in its original channel. If the destination channel doesn't exist anymore, the item will be moved to the fallback restoration channel.":"Dieses Element wird in seinem ursprünglichen Kanal wiederhergestellt. Wenn der Zielkanal nicht mehr existiert, wird das Objekt in den Ausweichkanal für die Wiederherstellung verschoben.","This item's parent is in the recycle bin":"Das übergeordnete Element befindet sich im Papierkorb","This list presents all media and channels ordered by add date.":"Diese Liste enthält alle Medien und Kanäle, sortiert nach dem Datum des Hinzufügens.","This live is running":"Diese Live-Sendung läuft","This media is not published":"Dieses Medium ist nicht veröffentlicht","This media is published":"Dieses Medium ist veröffentlicht","This media is published and unlisted":"Dieses Medium ist veröffentlicht und nicht gelistet","This media is selected":"Dieses Medium ist ausgewählt","This video is not ready":"Dieses Video ist nicht bereit","This will definitively delete":"Damit wird endgültig gelöscht","This will restore":"Dadurch wird die","Title, ascending":"Titel, aufsteigend","Title, descending":"Titel, absteigend","Type:":"Typ:","Unable to get channel content because you cannot access to this channel.":"Der Kanalinhalt kann nicht abgerufen werden, da Sie nicht auf diesen Kanal zugreifen können.","Unable to get channel information because you cannot access to this channel.":"Kanalinformationen können nicht abgerufen werden, da Sie nicht auf diesen Kanal zugreifen können.","Unable to get channels path because you cannot access to this channel.":"Der Kanalpfad kann nicht abgerufen werden, da Sie nicht auf diesen Kanal zugreifen können.","Unable to get channels tree because you are not logged in.":"Der Kanalbaum kann nicht abgerufen werden, da Sie nicht angemeldet sind.","Unable to get channels tree because you cannot access to this channel.":"Der Kanalbaum kann nicht abgerufen werden, da Sie nicht auf diesen Kanal zugreifen können.","Unable to get media information because you cannot access to this media.":"Medieninformationen können nicht abgerufen werden, da Sie nicht auf dieses Medium zugreifen können.","Unable to get search's results content because you cannot access to this channel.":"Der Inhalt der Suchergebnisse kann nicht abgerufen werden, da Sie nicht auf diesen Kanal zugreifen können.",Unspecified:"Nicht spezifiziert","Use default sorting":"Standardsortierung verwenden","Use the input above to search for something.":"Verwenden Sie die Eingabe oben, um eine Suche durchzuführen.",Videos:"Videos",Views:"Aufrufe","Views last month":"Aufrufe im letzten Monat","You are not allowed to have a personal channel.":"Sie dürfen keinen persönlichen Kanal haben.","You are not allowed to perform this action.":"Sie sind nicht berechtigt, diese Aktion durchzuführen.","You are not logged in or your session has expired. Please login and retry.":"Sie sind nicht eingeloggt oder Ihre Sitzung ist abgelaufen Bitte melden Sie sich an und versuchen Sie es erneut.","Your storage usage is the size used by all media for which you are in the speakers list and all media in your personal channel.":"Ihre Speichernutzung ist die Größe, die von allen Medien, für die Sie in der Sprecherliste stehen, und allen Medien in Ihrem persönlichen Kanal verwendet wird.",all:"alles",annotations:"Anmerkungen",at:"am","cannot copy":"konnte nicht kopiert werden",categories:"Kategorien",channel:"Kanal","channel(s)":"Kanal/Kanäle",channels:"Kanäle","classic Rich Media":"Classic-Rich-Medium","comments, slides, ...":"Kommentare, Folien, …",companies:"Unternehmen",copied:"kopiert",descriptions:"Beschreibungen","display items type icons":"Symbole für Anzeigetypen","dynamic Rich Media":"Dynamic-Rich-Medium","external data":"Externe Daten","external references":"Externe Referenzen","failed to copy":"Kopieren fehlgeschlagen",help:"Hilfe",iTunes:"iTunes","iTunes (audio only)":"iTunes (nur Audio)",items:"Artikel",keywords:"Schlüsselwörter",licenses:"Lizenzen",list:"Liste",live:"Live","live stream(s)":"Live-Stream(s)","live streams":"Live-Streams",locations:"Anmerkungen",no:"nein",none:"keine",photos:"Fotos","photos group(s)":"Fotogruppe(n)","photos groups":"Fotogruppen",selected:"ausgewählt","selected setting":"ausgewählte Einstellung","selected tab":"Ausgewählte Registerkarte",speakers:"Sprecher",standard:"Standard","this month":"diesen Monat",thumbnails:"Vorschaubilder",titles:"Titel",unspecified:"unspezifiziert",video:"Video","video(s)":"Video(s)",videos:"Videos",views:"Aufrufe",yes:"ja"},"de"),jsu.addTranslations({"Access denied.":"Acceso denegado.","Add a sub channel":"Añadir un subcanal","Add a video":"Añadir un vídeo","Add date, ascending":"Añadir fecha (ascendente)","Add date, descending":"Añadir fecha (descendente)","Added on":"Añadido el","An error occurred in the server. Please try again later.":"Se ha producido un error en el servidor. Inténtalo de nuevo más tarde.","An internal server error occurred. An email has been sent to the support team.":"Se ha producido un error interno del servidor. Se ha enviado un email al equipo de asistencia técnica.",Annotations:"Anotaciones","Annotations last month":"Anotaciones el mes pasado",April:"Abril","Are you sure?":"¿Seguro?",August:"Agosto","Available space:":"Espacio disponible:",B:"B",Categories:"Categorías","Channel content:":"Contenido del canal:","Channel does not exist.":"El canal no existe.",Channels:"Canales","Click to select this media":"Haz clic para seleccionar este elemento multimedia",Company:"Empresa","Company:":"La empresa:","Content types":"Tipos de contenido","Content types to display:":"Tipos de contenido para mostrar:","Copy LTI link":"Copiar enlace LTI","Created on":"Creado el","Creation date, ascending":"Fecha de creación (ascendente)","Creation date, descending":"Fecha de creación (descendente)",December:"Diciembre",Delete:"Eliminar","Delete all":"Borrar todo","Delete definitively":"Suprimir definitivamente","Deleted from":"Suprimido de","Deleted on":"Suprimido el",Display:"Pantalla","Display mode:":"Modo de pantalla:","Display {count} more items":"Mostrar {count} elementos más",Duration:"Duración",Edit:"Editar","Editable:":"Editable:","Failed to communicate with the service.":"No se ha podido comunicar con el servicio.",February:"Febrero","Filters:":"Filtros:",Go:"Ir","Go to this item's original location (before the item was deleted).":"Ir a la ubicación original de este elemento (antes de que se borrara).","Hide this window":"Ocultar esta ventana",Home:"Inicio","Item not found.":"No se ha encontrado el elemento.",January:"Enero",July:"Julio",June:"Junio","Latest content":"Contenido más reciente","Latest media":"Últimos medios de comunicación",License:"Licencia","License:":"Licencia:","Live streams":"Transmisiones en directo",Loading:"Cargando","Loading...":"Cargando...","Main channels":"Canales principales",March:"Marzo","Matching annotations:":"Anotaciones coincidentes:","Matching items:":"Elementos coincidentes:","Matching photos:":"Fotos coincidentes:",May:"Mayo","Media does not exist.":"El elemento multimedia no existe.","Media information":"Información del elemento multimedia","My channel":"Mi canal","My media":"Mis elementos multimedia","No available space":"No hay espacio disponible","No contents.":"Sin contenido.","No information about error.":"No hay información sobre el error.","No results.":"No hay resultados.",November:"Noviembre","Number of items:":"Número de elementos:","Number of views, ascending":"Número de visualizaciones (ascendente)","Number of views, descending":"Número de visualizaciones (descendente)",October:"Octubre",Ok:"Aceptar","Open information panel":"Abrir panel de información","Open original channel":"Abrir el canal original","Parent channel":"Canal matriz","Parent channel:":"Canal matriz:","Permanently delete everything in recycle bin":"Eliminar permanentemente todo en la papelera de reciclaje","Photos groups":"Grupos de fotos","Please login to access this channel":"Inicia sesión para acceder a este canal","Please login to access this page":"Inicia sesión para acceder a esta página","Published:":"Publicado:","Publishing date":"Fecha de publicación","Recording date":"Fecha de grabación","Request failed with code:":"La solicitud ha fallado con el código:","Requested channel does not exist.":"El canal solicitado no existe.",Restore:"Restaurar","Restore all":"Restaurar todo","Restore everything from the recycle bin. All items will be restored in their respective original channels. If the destination channel for an item doesn't exist anymore, the content will be moved to the fallback restoration channel.":"Restaurar todo desde la papelera de reciclaje. Todos los elementos se restaurarán en sus respectivos canales originales. Si el canal de destino de un elemento ya no existe, el contenido se moverá al canal de restauración de reserva.",Root:"Raíz",Search:"Buscar","Search for":"Buscar","Search in":"Buscar en","Search in my media":"Buscar en mis elementos multimedia","Search results for:":"Buscar resultados para:","Search:":"Buscar:",See:"Ver","See statistics on this channel":"Ver estadísticas de este canal","Select a channel to display its content.":"Selecciona un canal para mostrar su contenido.","Select this channel":"Seleccionar este canal","Select this media":"Seleccionar este elemento multimedia","Send an email to the managers of this channel":"Enviar un correo electrónico a los gestores de este canal",September:"Septiembre","Sign in":"Iniciar sesión","Slug, ascending":"Slug (ascendente)","Slug, descending":"Slug (descendente)","Some contents may still exist in this channel but if it is the case your account is not allowed to see them.":"Es posible que aún existan algunos contenidos en este canal, pero si es así, tu cuenta no tiene permiso para verlos.","Sort by:":"Ordenar por:",Speaker:"Altavoz","Speaker:":"Ponente:",Statistics:"Estadísticas","Storage usage":"Uso del almacenamiento","Storage usage:":"Uso del almacenamiento:","Sub channels":"Subcanales","Sub channels items are included in counts.":"Los elementos de los subcanales están incluidos en los recuentos.","Subscribe to channel videos RSS":"Suscribirse a la RSS de los vídeos del canal","Subscribe to channel videos RSS:":"Suscribirse a la RSS de los vídeos del canal:","The connection timed out. Please retry later.":"Se ha agotado el tiempo de conexión. Vuelve a intentarlo más tarde.","The server cannot be reached.":"No se puede acceder al servidor.","The storage quota of the parent channels can have an impact on the available space of this channel.":"El cupo de almacenamiento de los canales matrices podría afectar al espacio disponible en este canal.","This channel contains no media.":"Este canal no contiene medios de comunicación.","This channel contains no sub channels and no media.":"Este canal no contiene subcanales ni medios.","This channel contains no sub channels.":"Este canal no contiene subcanales.","This channel is selected":"Este canal está seleccionado","This channel is unlisted":"Este canal está oculto","This item is a channel":"Este elemento es un canal","This item is a live stream":"Este elemento es una transmisión en directo","This item is a photos group":"Este elemento es un grupo de fotos","This item is a video":"Este elemento es un vídeo","This item is in the recycle bin":"Este elemento está en la papelera de reciclaje","This item will be restored in its original channel. If the destination channel doesn't exist anymore, the item will be moved to the fallback restoration channel.":"Este elemento se restaurará en su canal original. Si el canal de destino ya no existe, el elemento se moverá al canal de restauración de reserva.","This item's parent is in the recycle bin":"El padre de este elemento está en la papelera de reciclaje","This list presents all media and channels ordered by add date.":"Esta lista presenta todos los elementos multimedia y canales ordenados por fecha de adición.","This live is running":"Este directo se está ejecutando","This media is not published":"Este elemento multimedia no está publicado","This media is published":"Este elemento multimedia está publicado","This media is published and unlisted":"Este elemento multimedia está publicado y oculto","This media is selected":"Este elemento multimedia está seleccionado","This video is not ready":"Este vídeo no está listo","This will definitively delete":"Esto eliminará definitivamente","This will restore":"Esto restaurará","Title, ascending":"Título (ascendente)","Title, descending":"Tí­tulo (descendente)","Type:":"Tipo:","Unable to get channel content because you cannot access to this channel.":"No es posible obtener el contenido del canal porque no puedes acceder a este canal.","Unable to get channel information because you cannot access to this channel.":"No es posible obtener la información del canal porque no puedes acceder a este canal.","Unable to get channels path because you cannot access to this channel.":"No es posible obtener la ruta del canal porque no puedes acceder a este canal.","Unable to get channels tree because you are not logged in.":"No es posible obtener el árbol del canal porque no has iniciado sesión.","Unable to get channels tree because you cannot access to this channel.":"No es posible obtener el árbol del canal porque no puedes acceder a este canal.","Unable to get media information because you cannot access to this media.":"No es posible obtener la información del elemento multimedia porque no puedes acceder a este elemento multimedia.","Unable to get search's results content because you cannot access to this channel.":"No es posible obtener el contenido de los resultados de la búsqueda porque no puedes acceder a este canal.",Unspecified:"Sin especificar","Use default sorting":"Utilizar orden predeterminado","Use the input above to search for something.":"Utiliza la información anterior para buscar algo.",Videos:"Vídeos",Views:"Visualizaciones","Views last month":"Visualizaciones el mes pasado","You are not allowed to have a personal channel.":"No tienes permiso para tener un canal personal.","You are not allowed to perform this action.":"No tienes permiso para realizar esta acción.","You are not logged in or your session has expired. Please login and retry.":"No has iniciado sesión o la sesión ha caducado. Inicia sesión e inténtalo otra vez.","Your storage usage is the size used by all media for which you are in the speakers list and all media in your personal channel.":"Tu uso de almacenamiento es el tamaño utilizado por todos los medios para los que estás en la lista de altavoces y todos los medios en tu canal personal.",all:"todos",annotations:"anotaciones",at:"en","cannot copy":"no se puede copiar",categories:"categorías",channel:"canale","channel(s)":"canal(es)",channels:"canales","classic Rich Media":"Rich Media clásico","comments, slides, ...":"comentarios, diapositivas, ...",companies:"empresas",copied:"copiado",descriptions:"descripciones","display items type icons":"mostrar iconos del tipo de elemento","dynamic Rich Media":"Rich Media dinámico","external data":"datos externos","external references":"referencias externas","failed to copy":"no se ha podido copiar",help:"ayuda",iTunes:"iTunes","iTunes (audio only)":"iTunes (solo audio)",items:"artículos",keywords:"palabras clave",licenses:"licencias",list:"lista",live:"live","live stream(s)":"transmisión(es) en directo","live streams":"transmisiones en directo",locations:"anotaciones",no:"no",none:"ninguno",photos:"fotos","photos group(s)":"grupo(s) de fotos","photos groups":"grupos de fotos",selected:"seleccionado","selected setting":"ajuste seleccionado","selected tab":"pestaña seleccionada",speakers:"ponentes",standard:"estándar","this month":"este mes",thumbnails:"miniaturas",titles:"títulos",unspecified:"sin especificar",video:"vídeo","video(s)":"vídeo(s)",videos:"vídeos",views:"visualizaciones",yes:"sí"},"es"),jsu.addTranslations({"Access denied.":"Pääsy kielletty.","Add a sub channel":"Lisää alakanava","Add a video":"Lisää video","Add date, ascending":"Lisää päivämäärä, nouseva","Add date, descending":"Lisää päivämäärä, laskeva","Added on":"Lisätty","An error occurred in the server. Please try again later.":"Palvelimessa tapahtui virhe. Yritä myöhemmin uudelleen.","An internal server error occurred. An email has been sent to the support team.":"Palvelimen sisäinen virhe tapahtui. Tukitiimille on lähetetty sähköpostia.",Annotations:"Huomautukset","Annotations last month":"Huomautukset viime kuussa",April:"Huhtikuu","Are you sure?":"Oletko varma?",August:"Elokuu","Available space:":"Käytettävissä oleva tila:",B:"B",Categories:"Kategoriat","Channel content:":"Kanavan sisältö:","Channel does not exist.":"Kanavaa ei ole olemassa.",Channels:"Kanavat","Click to select this media":"Valitse tämä media napsauttamalla",Company:"Yritys","Company:":"Yritys:","Content types":"Sisältötyypit","Content types to display:":"Näytettävät sisältötyypit:","Copy LTI link":"Kopioi LTI-linkki","Created on":"Luotu","Creation date, ascending":"Luontipäivämäärä, nouseva","Creation date, descending":"Luontipäivämäärä, aleneva",December:"Joulukuu",Delete:"Poista","Delete all":"Poista kaikki","Delete definitively":"Poistetaan lopullisesti","Deleted from":"Poistettu vuodesta","Deleted on":"Poistettu",Display:"Näyttö","Display mode:":"Näyttötila:","Display {count} more items":"Näytä {count} lisää kohteita",Duration:"Kesto",Edit:"Muokkaa","Editable:":"Muokattavissa:","Failed to communicate with the service.":"Yhteydenotto palveluun epäonnistui.",February:"Helmikuu","Filters:":"Suodattimet:",Go:"Mene","Go to this item's original location (before the item was deleted).":"Siirry kohteen alkuperäiseen sijaintiin (ennen kohteen poistamista).","Hide this window":"Piilota tämä ikkuna",Home:"Etusivu","Item not found.":"Tuotetta ei löydy.",January:"Tammikuu",July:"Heinäkuu",June:"Kesäkuu","Latest content":"Viimeisin sisältö","Latest media":"Viimeisimmät tiedotusvälineet",License:"Lisenssi","License:":"Lisenssi:","Live streams":"Suorat lähetykset",Loading:"Ladataan","Loading...":"Ladataan...","Main channels":"Pääkanavat",March:"Maaliskuu","Matching annotations:":"Vastaavat huomautukset:","Matching items:":"Vastaavat tuotteet:","Matching photos:":"Vastaavat kuvat:",May:"Toukokuu","Media does not exist.":"Mediaa ei ole olemassa.","Media information":"Tiedotusvälineitä koskevat tiedot","My channel":"Minun kanavani","My media":"Oma media","No available space":"Ei vapaata tilaa","No contents.":"Ei sisältöä.","No information about error.":"Ei tietoa virheestä.","No results.":"Ei tuloksia.",November:"Marraskuu","Number of items:":"Kappaleiden lukumäärä:","Number of views, ascending":"Näkymien määrä, nouseva","Number of views, descending":"Näkymien määrä, laskeva",October:"Lokakuu",Ok:"Ok","Open information panel":"Avaa tietopaneeli","Open original channel":"Avaa alkuperäinen kanava","Parent channel":"Vanhempien kanava","Parent channel:":"Vanhempien kanava:","Permanently delete everything in recycle bin":"Poista kaikki pysyvästi roskakorista","Photos groups":"Kuvat ryhmät","Please login to access this channel":"Kirjaudu sisään päästäksesi tälle kanavalle","Please login to access this page":"Kirjaudu sisään päästäksesi tälle sivulle","Published:":"Julkaistu:","Publishing date":"Julkaisupäivä","Recording date":"Tallennuspäivä","Request failed with code:":"Pyyntö epäonnistui koodilla:","Requested channel does not exist.":"Pyydettyä kanavaa ei ole olemassa.",Restore:"Palauta","Restore all":"Palauta kaikki","Restore everything from the recycle bin. All items will be restored in their respective original channels. If the destination channel for an item doesn't exist anymore, the content will be moved to the fallback restoration channel.":"Palauta kaikki tiedot roskakorista. Kaikki kohteet palautetaan alkuperäisiin kanaviinsa. Jos kohteen kohdekanavaa ei ole enää olemassa, sisältö siirretään palautuksen varakanavaan.",Root:"Juuret",Search:"Etsi","Search for":"Etsi","Search in":"Haku osoitteessa","Search in my media":"Etsi mediastani","Search results for:":"Search results for:","Search:":"Etsi:",See:"Katso","See statistics on this channel":"Katso tämän kanavan tilastot","Select a channel to display its content.":"Valitse kanava näyttääksesi sen sisällön.","Select this channel":"Valitse tämä kanava","Select this media":"Valitse tämä media","Send an email to the managers of this channel":"Lähetä sähköpostia tämän kanavan johtajille",September:"Syyskuu","Sign in":"Kirjaudu sisään","Slug, ascending":"Etana, nouseva","Slug, descending":"Etana, laskeva","Some contents may still exist in this channel but if it is the case your account is not allowed to see them.":"Joitakin sisältöjä saattaa olla edelleen tällä kanavalla, mutta jos näin on, tilisi ei saa nähdä niitä.","Sort by:":"Lajittelu:",Speaker:"Puhuja","Speaker:":"Puhuja:",Statistics:"Tilastot","Storage usage":"Varaston käyttö","Storage usage:":"Säilytyksen käyttö:","Sub channels":"Alakanavat","Sub channels items are included in counts.":"Alikanavat sisältyvät laskentaan.","Subscribe to channel videos RSS":"Tilaa kanavan videot RSS","Subscribe to channel videos RSS:":"Tilaa kanavan videot RSS:","The connection timed out. Please retry later.":"Yhteys katkesi. Yritä myöhemmin uudelleen.","The server cannot be reached.":"Palvelinta ei tavoiteta.","The storage quota of the parent channels can have an impact on the available space of this channel.":"Vanhempien kanavien tallennuskiintiö voi vaikuttaa tämän kanavan käytettävissä olevaan tilaan.","This channel contains no media.":"Tämä kanava ei sisällä mediaa.","This channel contains no sub channels and no media.":"Tämä kanava ei sisällä alakanavia eikä mediaa.","This channel contains no sub channels.":"Tämä kanava ei sisällä alakanavia.","This channel is selected":"Tämä kanava on valittu","This channel is unlisted":"Tämä kanava on listaamaton","This item is a channel":"Tämä tuote on kanava","This item is a live stream":"Tämä kohde on suoratoisto","This item is a photos group":"Tämä tuote on valokuvaryhmä","This item is a video":"Tämä tuote on video","This item is in the recycle bin":"Tämä kohde on roskakorissa","This item will be restored in its original channel. If the destination channel doesn't exist anymore, the item will be moved to the fallback restoration channel.":"Tämä tuote palautetaan alkuperäiseen kanavaansa. Jos kohdekanavaa ei ole enää olemassa, kohde siirretään varakanavaan.","This item's parent is in the recycle bin":"Tämän kohteen vanhempi on roskakorissa.","This list presents all media and channels ordered by add date.":"Tässä luettelossa näkyvät kaikki mediat ja kanavat lisäyspäivämäärän mukaisessa järjestyksessä.","This live is running":"Tämä live on käynnissä","This media is not published":"Tätä mediaa ei julkaista","This media is published":"Tämä media julkaistaan","This media is published and unlisted":"Tämä media on julkaistu ja luetteloimaton","This media is selected":"Tämä media on valittu","This video is not ready":"Tämä video ei ole valmis","This will definitively delete":"Tämä poistaa lopullisesti","This will restore":"Tämä palauttaa","Title, ascending":"Otsikko, nouseva","Title, descending":"Otsikko, aleneva","Type:":"Tyyppi:","Unable to get channel content because you cannot access to this channel.":"Kanavan sisältöä ei voi saada, koska et pääse tälle kanavalle.","Unable to get channel information because you cannot access to this channel.":"Kanavatietoja ei voida saada, koska et pääse tälle kanavalle.","Unable to get channels path because you cannot access to this channel.":"Kanavapolkua ei voida saada, koska et pääse tälle kanavalle.","Unable to get channels tree because you are not logged in.":"Kanavapuuta ei voi hakea, koska et ole kirjautunut sisään.","Unable to get channels tree because you cannot access to this channel.":"Kanavapuuta ei voi hakea, koska et pääse tälle kanavalle.","Unable to get media information because you cannot access to this media.":"Mediatietoja ei voida saada, koska et pääse käsiksi tähän mediaan.","Unable to get search's results content because you cannot access to this channel.":"Hakutulosten sisältöä ei voi hakea, koska et pääse tähän kanavaan.",Unspecified:"Määrittelemätön","Use default sorting":"Käytä oletuslajittelua","Use the input above to search for something.":"Käytä yllä olevaa syöttötapaa jonkin asian etsimiseen.",Videos:"Videot",Views:"Näkymät","Views last month":"Näkymiä viime kuussa","You are not allowed to have a personal channel.":"Sinulla ei saa olla henkilökohtaista kanavaa.","You are not allowed to perform this action.":"Et saa suorittaa tätä toimintoa.","You are not logged in or your session has expired. Please login and retry.":"Et ole kirjautunut sisään tai istuntosi on päättynyt. Kirjaudu sisään ja yritä uudelleen.","Your storage usage is the size used by all media for which you are in the speakers list and all media in your personal channel.":"Tallennustilan käyttö on kaikkien niiden medioiden käyttämä koko, joiden osalta olet kaiuttimien luettelossa, sekä kaikkien henkilökohtaisen kanavasi medioiden käyttämä koko.",all:"kaikki",annotations:"huomautukset",at:"osoitteessa","cannot copy":"ei voi kopioida",categories:"luokat",channel:"kanava","channel(s)":"kanava(t)",channels:"kanavat","classic Rich Media":"klassinen Rich Media","comments, slides, ...":"kommentit, diat, ...",companies:"yritykset",copied:"kopioitu",descriptions:"kuvaukset","display items type icons":"näyttö kohteiden tyypin kuvakkeet","dynamic Rich Media":"dynaaminen Rich Media","external data":"ulkoiset tiedot","external references":"ulkoiset viittaukset","failed to copy":"ei onnistunut kopioimaan",help:"apua",iTunes:"iTunes","iTunes (audio only)":"iTunes (vain ääni)",items:"kohteet",keywords:"avainsanat",licenses:"lisenssit",list:"lista",live:"live","live stream(s)":"suoratoisto(t)","live streams":"suorat lähetykset",locations:"sijainnit",no:"ei",none:"none",photos:"kuvat","photos group(s)":"valokuvat ryhmä(t)","photos groups":"valokuvat ryhmät",selected:"valitut","selected setting":"valittu asetus","selected tab":"valittu välilehti",speakers:"kaiuttimet",standard:"standardi","this month":"tässä kuussa",thumbnails:"pikkukuvat",titles:"otsikot",unspecified:"määrittelemätön",video:"video","video(s)":"video(t)",videos:"videot",views:"näkymät",yes:"kyllä"},"fi"),jsu.addTranslations({"Access denied.":"Accès refusé.","Add a sub channel":"Ajouter une sous chaîne","Add a video":"Ajouter une vidéo","Add date, ascending":"Date d'ajout, croissante","Add date, descending":"Date d'ajout, décroissante","Added on":"Ajouté le","An error occurred in the server. Please try again later.":"La requête a échoué. Veuillez réessayer plus tard.","An internal server error occurred. An email has been sent to the support team.":"Une erreur interne au serveur est survenue. Un email a été envoyé à l'équipe de support afin de résoudre le problème.",Annotations:"Annotations","Annotations last month":"Annotations ce mois",April:"Avril","Are you sure?":"Êtes-vous sûr ?",August:"Ao&ucirc;t","Available space:":"Espace disponible :",B:"o",Categories:"Catégories","Channel content:":"Contenu de la chaîne :","Channel does not exist.":"La chaîne n'existe pas.",Channels:"Chaînes","Click to select this media":"Cliquez pour sélectionner ce média",Company:"Société","Company:":"Société :","Content types":"Types de contenu","Content types to display:":"Types de contenu à afficher :","Copy LTI link":"Copier le lien LTI","Created on":"Créé le","Creation date, ascending":"Date de création, croissante","Creation date, descending":"Date de création, décroissante",December:"D&eacute;cembre",Delete:"Supprimer","Delete all":"Supprimer tout","Delete definitively":"Supprimer définitivement","Deleted from":"Supprimé de","Deleted on":"Supprimé le",Display:"Affichage","Display mode:":"Mode d'affichage :","Display {count} more items":"Afficher {count} éléments de plus",Duration:"Durée",Edit:"Éditer","Editable:":"Éditable :","Failed to communicate with the service.":"Échec de la communication avec le service.",February:"F&eacute;vrier","Filters:":"Filtres :",Go:"Envoyer","Go to this item's original location (before the item was deleted).":"Aller à l'emplacement d'origine de cet élément (avant qu'il ne soit supprimé).","Hide this window":"Fermer cette fenêtre",Home:"Accueil","Item not found.":"Élément introuvable.",January:"Janvier",July:"Juillet",June:"Juin","Latest content":"Contenu récent","Latest media":"Derniers médias",License:"License","License:":"Licence :","Live streams":"Diffusions en direct",Loading:"Chargement","Loading...":"Chargement ...","Main channels":"Chaînes principales",March:"Mars","Matching annotations:":"Annotations correspondantes :","Matching items:":"Éléments correspondants :","Matching photos:":"Photos correspondantes :",May:"Mai","Media does not exist.":"Le média n'existe pas.","Media information":"Informations sur le média","My channel":"Ma chaîne","My media":"Mes médias","No available space":"Pas d'espace disponible","No contents.":"Pas de contenu.","No information about error.":"Informations sur le média.","No results.":"Pas de résultats.",November:"Novembre","Number of items:":"Nombre d'éléments :","Number of views, ascending":"Nombre de vues, croissant","Number of views, descending":"Nombre de vues, décroissant",October:"Octobre",Ok:"Ok","Open information panel":"Ouvrir le panneau d'information","Open original channel":"Ouvrir la chaîne d'origine","Parent channel":"Chaîne parente","Parent channel:":"Chaîne parente :","Permanently delete everything in recycle bin":"Supprimer définitivement tout ce qui se trouve dans la corbeille","Photos groups":"Groupes de photos","Please login to access this channel":"Veuillez vous connecter pour accéder à cette chaîne","Please login to access this page":"Veuillez vous connecter pour accéder à cette page","Published:":"Publié:","Publishing date":"Date de publication","Recording date":"Date d'enregistrement","Request failed with code:":"La requête a échoué avec le code :","Requested channel does not exist.":"La chaîne demandée n'existe pas.",Restore:"Restaurer","Restore all":"Tout restaurer","Restore everything from the recycle bin. All items will be restored in their respective original channels. If the destination channel for an item doesn't exist anymore, the content will be moved to the fallback restoration channel.":"Restaurer tout ce qui se trouve dans la corbeille. Tous les éléments seront restaurés dans leurs chaînes d'origine respectives. Si la chaîne de destination d'un élément n'existe plus, le contenu sera déplacé vers la chaîne de restauration.",Root:"Racine",Search:"Rechercher","Search for":"Contenu à rechercher","Search in":"Rechercher dans","Search in my media":"Rechercher dans mes médias","Search results for:":"Résultats de recherche pour:","Search:":"Rechercher :",See:"Voir","See statistics on this channel":"Voir les statistiques de cette chaîne","Select a channel to display its content.":"Sélectionnez une chaîne pour afficher son contenu.","Select this channel":"Sélectionner cette chaîne","Select this media":"Sélectionner ce média","Send an email to the managers of this channel":"Envoyer un courriel aux responsables de cette chaîne",September:"Septembre","Sign in":"Connexion","Slug, ascending":"Jeton, croissant","Slug, descending":"Jeton, décroissant","Some contents may still exist in this channel but if it is the case your account is not allowed to see them.":"Du contenu peut tout de même être présent dans cette chaîne mais si c'est le cas, votre compte utilisateur ne possède pas la permission de le voir.","Sort by:":"Trier par :",Speaker:"Intervenant","Speaker:":"Intervenant :",Statistics:"Statistiques","Storage usage":"Stockage utilisé","Storage usage:":"Stockage utilisé :","Sub channels":"Sous chaînes","Sub channels items are included in counts.":"Les éléments contenus dans les sous chaînes sont inclus dans les comptes.","Subscribe to channel videos RSS":"S'abonner au flux RSS des vidéos de la chaîne","Subscribe to channel videos RSS:":"S'abonner au flux RSS des vidéos de la chaîne :","The connection timed out. Please retry later.":"Le délai d'attente de réponse a été dépassé. Veuillez réessayez plus tard.","The server cannot be reached.":"Le serveur est injoignable.","The storage quota of the parent channels can have an impact on the available space of this channel.":"Le quota de stockage des chaînes en amont peut avoir un impact sur l'espace disponible dans cette chaîne.","This channel contains no media.":"Cette chaîne ne contient pas de média.","This channel contains no sub channels and no media.":"Cette chaîne ne contient pas de sous chaîne ni de média.","This channel contains no sub channels.":"Cette chaîne ne contient pas de sous chaîne.","This channel is selected":"Cette chaîne est sélectionnée","This channel is unlisted":"Cette chaîne est non listée","This item is a channel":"Cet élément est une chaîne","This item is a live stream":"Cet élément est une diffusion en direct","This item is a photos group":"Cet élément est un groupe de photos","This item is a video":"Cet élément est une vidéo","This item is in the recycle bin":"Cet élément est dans la corbeille","This item will be restored in its original channel. If the destination channel doesn't exist anymore, the item will be moved to the fallback restoration channel.":"Cet élément sera restauré dans sa chaîne d'origine. Si la chaîne de destination n'existe plus, l'élément sera déplacé vers la chaîne de restauration.","This item's parent is in the recycle bin":"Le parent de cet élément se trouve dans la corbeille","This list presents all media and channels ordered by add date.":"Cette liste présente les derniers éléments ajoutés triés par date d'ajout.","This live is running":"Ce live est en cours","This media is not published":"Ce média n'est pas publié","This media is published":"Ce média est publié","This media is published and unlisted":"Ce média est publié et non listé","This media is selected":"Ce média est sélectionné","This video is not ready":"Cette vidéo n'est pas prête","This will definitively delete":"Ceci supprimera définitivement","This will restore":"Cela restaurera","Title, ascending":"Titre, croissant","Title, descending":"Titre, décroissant","Type:":"Type :","Unable to get channel content because you cannot access to this channel.":"Impossible d'obtenir la liste du contenu de la chaîne car vous ne disposez pas du droit d'accès à cette chaîne.","Unable to get channel information because you cannot access to this channel.":"Impossible d'obtenir les informations sur la chaîne car vous ne pouvez pas accéder à cette chaîne.","Unable to get channels path because you cannot access to this channel.":"Impossible d'obtenir le chemin de la chaîne car vous n'avez pas la permission d'accéder à cette chaîne.","Unable to get channels tree because you are not logged in.":"Impossible d'obtenir la liste des chaînes, vous n'êtes pas authentifié.","Unable to get channels tree because you cannot access to this channel.":"Impossible d'obtenir la liste du contenu de la chaîne car vous ne disposez pas du droit d'accès à cette chaîne.","Unable to get media information because you cannot access to this media.":"Impossible d'obtenir les informations sur le média car vous ne pouvez pas accéder à ce média.","Unable to get search's results content because you cannot access to this channel.":"Impossible d'obtenir les résultats de la recherche car vous ne disposez pas du droit d'accès à cette chaîne.",Unspecified:"Non spécifié","Use default sorting":"Utiliser le tri par défaut","Use the input above to search for something.":"Utilisez le champ de texte ci dessus pour rechercher du contenu.",Videos:"Vidéos",Views:"Vues","Views last month":"Vues ce mois","You are not allowed to have a personal channel.":"Vous n'avez pas la permission de disposer d'une chaîne personnelle.","You are not allowed to perform this action.":"Vous n'avez pas la permission d'effectuer cette action.","You are not logged in or your session has expired. Please login and retry.":"Vous n'êtes pas connecté ou votre session a expiré. Veuillez vous reconnecter puis réessayez.","Your storage usage is the size used by all media for which you are in the speakers list and all media in your personal channel.":"Votre utilisation de l'espace de stockage correspond à la taille utilisée par tous les médias pour lesquels vous êtes dans la liste des intervenants et tous les médias de votre chaîne personnelle.",all:"tout",annotations:"annotations",at:"à","cannot copy":"impossible de copier",categories:"catégories",channel:"chaîne","channel(s)":"chaîne(s)",channels:"chaînes","classic Rich Media":"Rich Media classique","comments, slides, ...":"commentaires, diapositives, ...",companies:"sociétés",copied:"copié",descriptions:"descriptions","display items type icons":"afficher les icônes de type des éléments","dynamic Rich Media":"Rich Media dynamique","external data":"données externes","external references":"références externes","failed to copy":"échec de la copie",help:"aide",iTunes:"iTunes","iTunes (audio only)":"iTunes (audio uniquement)",items:"éléments",keywords:"mots clés",licenses:"licences",list:"liste",live:"live","live stream(s)":"diffusion(s) en direct","live streams":"diffusions en direct",locations:"lieux",no:"non",none:"aucun",photos:"photos","photos group(s)":"groupe(s) de photos","photos groups":"groupes de photos",selected:"sélectionné","selected setting":"option sélectionnée","selected tab":"onglet sélectionné",speakers:"intervenants",standard:"standard","this month":"ce mois",thumbnails:"vignettes",titles:"titres",unspecified:"non spécifié",video:"vidéo","video(s)":"vidéo(s)",videos:"vidéos",views:"vues",yes:"oui"},"fr"),jsu.addTranslations({"Access denied.":"Toegang geweigerd.","Add a sub channel":"Een subkanaal toevoegen","Add a video":"Een video toevoegen","Add date, ascending":"Toevoegdatum, oplopend","Add date, descending":"Toevoegdatum, aflopend","Added on":"Toegevoegd op","An error occurred in the server. Please try again later.":"Er is een fout opgetreden op de server. Probeer het later opnieuw.","An internal server error occurred. An email has been sent to the support team.":"Er is een interne serverfout opgetreden. Er is een e-mail naar het ondersteuningsteam gestuurd.",Annotations:"Annotaties","Annotations last month":"Annotaties afgelopen maand",April:"April","Are you sure?":"Weet je het zeker?",August:"Augustus","Available space:":"Beschikbare ruimte:",B:"B",Categories:"Categorieën","Channel content:":"Kanaalinhoud:","Channel does not exist.":"Het kanaal bestaat niet.",Channels:"Kanalen","Click to select this media":"Klik om deze media te selecteren",Company:"Bedrijf","Company:":"Bedrijf:","Content types":"Inhoudstypen","Content types to display:":"Inhoudstypen om te weergeven:","Copy LTI link":"Kopieer de LTI-link","Created on":"Aangemaakt op","Creation date, ascending":"Aanmaakdatum, oplopend","Creation date, descending":"Aanmaakdatum, aflopend",December:"December",Delete:"Verwijderen","Delete all":"Alles verwijderen","Delete definitively":"Definitief verwijderen","Deleted from":"Verwijderd uit","Deleted on":"Verwijderd op",Display:"Weergave","Display mode:":"Weergavemodus:","Display {count} more items":"Nog {count} items weergeven",Duration:"Duur",Edit:"Bewerken","Editable:":"Bewerkbaar:","Failed to communicate with the service.":"Mislukt om te communiceren met de dienst.",February:"Februari","Filters:":"Filters:",Go:"Ga","Go to this item's original location (before the item was deleted).":"Ga naar de oorspronkelijke locatie van dit item (voordat het item werd verwijderd).","Hide this window":"Verberg dit venster",Home:"Home","Item not found.":"Item niet gevonden.",January:"Januari",July:"Juli",June:"Juni","Latest content":"Nieuwste inhoud","Latest media":"Laatste media",License:"Licentie","License:":"Licentie:","Live streams":"Livestreams",Loading:"Aan het laden","Loading...":"Laden…","Main channels":"Belangrijkste kanalen",March:"Maart","Matching annotations:":"Overeenkomende annotaties:","Matching items:":"Items bij elkaar zoeken:","Matching photos:":"Bijpassende foto's:",May:"Mei","Media does not exist.":"Media bestaat niet.","Media information":"Media-informatie","My channel":"Mijn kanaal","My media":"Mijn media","No available space":"Geen beschikbare ruimte","No contents.":"Geen inhoud.","No information about error.":"Geen foutinformatie.","No results.":"Geen resultaten.",November:"November","Number of items:":"Aantal items:","Number of views, ascending":"Aantal weergaven, oplopend","Number of views, descending":"Aantal weergaven aflopend",October:"Oktober",Ok:"Ok","Open information panel":"Open informatiepaneel","Open original channel":"Open origineel kanaal","Parent channel":"Bovenliggend kanaal","Parent channel:":"Bovenliggend kanaal:","Permanently delete everything in recycle bin":"Alles in prullenbak permanent verwijderen","Photos groups":"Fotogroepen","Please login to access this channel":"Log in om toegang te krijgen tot dit kanaal","Please login to access this page":"Log in om toegang te krijgen tot deze pagina","Published:":"Gepubliceerd:","Publishing date":"Publicatiedatum","Recording date":"Opnamedatum","Request failed with code:":"Verzoek mislukt met code:","Requested channel does not exist.":"Het aangevraagde kanaal bestaat niet.",Restore:"Herstel","Restore all":"Alles herstellen","Restore everything from the recycle bin. All items will be restored in their respective original channels. If the destination channel for an item doesn't exist anymore, the content will be moved to the fallback restoration channel.":"Herstel alles vanuit de prullenbak. Alle items worden hersteld in hun oorspronkelijke kanalen. Als het bestemmingskanaal voor een item niet meer bestaat, wordt de inhoud verplaatst naar het fallbackherstelkanaal.",Root:"Root",Search:"Zoeken","Search for":"Zoeken naar","Search in":"Zoeken in","Search in my media":"Zoek in mijn media","Search results for:":"Zoekresultaten voor:","Search:":"Zoeken:",See:"Bekijken","See statistics on this channel":"Statistieken van dit kanaal bekijken","Select a channel to display its content.":"Selecteer een kanaal om de inhoud ervan te weergeven.","Select this channel":"Selecteer dit kanaal","Select this media":"Selecteer deze media","Send an email to the managers of this channel":"Stuur een e-mail naar de beheerders van dit kanaal",September:"September","Sign in":"Inloggen","Slug, ascending":"Slug, oplopend","Slug, descending":"Slug, aflopend","Some contents may still exist in this channel but if it is the case your account is not allowed to see them.":"Sommige inhoud kan nog steeds aanwezig zijn op dit kanaal, maar als dit het geval is, mag jouw account deze niet bekijken.","Sort by:":"Sorteren op:",Speaker:"Spreker","Speaker:":"Spreker:",Statistics:"Statistieken","Storage usage":"Opslaggebruik","Storage usage:":"Opslaggebruik:","Sub channels":"Subkanalen","Sub channels items are included in counts.":"Items van subkanalen worden meegeteld.","Subscribe to channel videos RSS":"Abonneren op kanaalvideo's RSS","Subscribe to channel videos RSS:":"Abonneren op kanaalvideo's RSS:","The connection timed out. Please retry later.":"De verbinding is verlopen. Probeer het later nog eens.","The server cannot be reached.":"De server is niet bereikbaar.","The storage quota of the parent channels can have an impact on the available space of this channel.":"Het opslagquotum van de bovenliggende kanalen kan een invloed hebben op de beschikbare ruimte van dit kanaal.","This channel contains no media.":"Dit kanaal bevat geen media.","This channel contains no sub channels and no media.":"Dit kanaal bevat geen subkanalen en geen media.","This channel contains no sub channels.":"Dit kanaal bevat geen subkanalen.","This channel is selected":"Dit kanaal is geselecteerd","This channel is unlisted":"Dit kanaal is niet vermeld","This item is a channel":"Dit item is een kanaal","This item is a live stream":"Dit item is een livestream","This item is a photos group":"Dit item is een fotogroep","This item is a video":"Dit item is een video","This item is in the recycle bin":"Dit item zit in de prullenbak","This item will be restored in its original channel. If the destination channel doesn't exist anymore, the item will be moved to the fallback restoration channel.":"Dit item zal worden hersteld in zijn originele kanaal. Als het bestemmingskanaal niet meer bestaat, wordt het item verplaatst naar het fallbackherstelkanaal.","This item's parent is in the recycle bin":"De ouder van dit item zit in de prullenbak","This list presents all media and channels ordered by add date.":"Deze lijst toont alle media en kanalen gesorteerd op de toevoegingsdatum.","This live is running":"Dit leven loopt","This media is not published":"Deze media is niet gepubliceerd","This media is published":"Deze media is gepubliceerd","This media is published and unlisted":"Deze media is gepubliceerd en niet vermeld","This media is selected":"Deze media zijn geselecteerd","This video is not ready":"Deze video is niet klaar","This will definitively delete":"Dit zal definitief verwijderen","This will restore":"Dit herstelt","Title, ascending":"Titel, oplopend","Title, descending":"Titel, aflopend","Type:":"Type:","Unable to get channel content because you cannot access to this channel.":"Kan kanaalinhoud niet ophalen omdat je geen toegang hebt tot dit kanaal.","Unable to get channel information because you cannot access to this channel.":"Kan kanaalinformatie niet ophalen omdat je geen toegang hebt tot dit kanaal.","Unable to get channels path because you cannot access to this channel.":"Kan kanalenpad niet ophalen omdat je geen toegang hebt tot dit kanaal.","Unable to get channels tree because you are not logged in.":"Kan kanalenstructuur niet ophalen omdat je niet bent ingelogd.","Unable to get channels tree because you cannot access to this channel.":"Kan kanalenstructuur niet ophalen omdat je geen toegang hebt tot dit kanaal.","Unable to get media information because you cannot access to this media.":"Kan media-informatie niet ophalen omdat je geen toegang hebt tot dit kanaal.","Unable to get search's results content because you cannot access to this channel.":"Kan de inhoud van zoekresultaten niet ophalen omdat je geen toegang hebt tot dit kanaal.",Unspecified:"Niet gespecificeerd","Use default sorting":"Gebruik standaard sortering","Use the input above to search for something.":"Gebruik bovenstaande invoer om iets te zoeken.",Videos:"Video’s",Views:"Weergaven","Views last month":"Weergaven afgelopen maand","You are not allowed to have a personal channel.":"Je mag geen persoonlijk kanaal hebben.","You are not allowed to perform this action.":"Je mag deze bewerking niet uitvoeren.","You are not logged in or your session has expired. Please login and retry.":"Je bent niet ingelogd of je sessie is verlopen. Log in en probeer het opnieuw.","Your storage usage is the size used by all media for which you are in the speakers list and all media in your personal channel.":"Uw opslaggebruik is de grootte die wordt gebruikt door alle media waarvoor u in de sprekerslijst staat en alle media in uw persoonlijke kanaal.",all:"alle",annotations:"annotaties",at:"om","cannot copy":"kan niet kopiëren",categories:"categorieën",channel:"kanalen","channel(s)":"kanaal (kanalen)",channels:"kanalen","classic Rich Media":"klassieke Rich Media","comments, slides, ...":"opmerkingen, dia's, ...",companies:"bedrijven",copied:"gecopieerd",descriptions:"beschrijvingen","display items type icons":"items type pictogrammen weergeven","dynamic Rich Media":"dynamic Rich Media","external data":"externe gegevens","external references":"externe referenties","failed to copy":"kopiëren mislukt",help:"help",iTunes:"iTunes","iTunes (audio only)":"iTunes (alleen audio)",items:"items",keywords:"trefwoorden",licenses:"licenties",list:"lijst",live:"live","live stream(s)":"live stream(s)","live streams":"livestreams",locations:"lokaties",no:"nee",none:"geen",photos:"foto's","photos group(s)":"fotogroep(en)","photos groups":"fotogroepen",selected:"geselecteerd","selected setting":"geselecteerde instelling","selected tab":"geselecteerd tabblad",speakers:"spreker",standard:"standaard","this month":"deze maand",thumbnails:"miniaturen",titles:"titels",unspecified:"niet gespecificeerd",video:"video","video(s)":"video('s)",videos:"video’s",views:"weergaven",yes:"ja"},"nl"),MSAPIClient.prototype.configure=function(e){e&&(e.baseUrl&&(this.baseUrl=e.baseUrl),e.useProxy&&(this.useProxy=e.useProxy),e.extraData&&(this.extraData=e.extraData))},MSAPIClient.prototype.ajaxCall=function(e,t,s,a,n,i){let o=this.calls[e];if(!o){const t=e.split(":");if(1==t.length)o={method:"GET",url:t[0]};else{if(2!=t.length)throw new Error("Invalid call or uri.");o={method:t[0],url:t[1]}}}let l=this.baseUrl;if(this.useProxy?t.action=o.url:(this.baseUrl||(t.local="yes"),l+=o.url),void 0===l||"undefined"===l)throw new Error("No url to call.");if(this.extraData){let e;for(e in this.extraData)t[e]=this.extraData[e]}const r=this,c={url:l,method:o.method,data:t,dataType:"json",cache:!1,success:function(e){if(s)return s(e)},error:function(e){if(s){let t;try{t=JSON.parse(e.responseText)}catch(e){t={}}if(t.success=!1,t.errorCode=e.status,500===e.status||!t.error){let s="";s=e.status?o.errors&&e.status in o.errors?o.errors[e.status]:e.status in r.defaultsErrorsMessages?r.defaultsErrorsMessages[e.status]:jsu.translate("Request failed with code:")+" "+e.status:jsu.translate("Failed to communicate with the service."),t.error=s}return s(t)}}};return(void 0===a||a)&&(c.async=a),n&&(c.processData=!1,c.enctype="multipart/form-data",c.contentType=!1),i&&(c.xhr=i),$.ajax(c)},MSAPIClient.prototype.getStorageLevelClass=function(e){switch(e){case"critical":return"red";case"warning":return"orange";default:return""}},MSAPIClient.prototype.getStorageDisplay=function(e,t){let s="";if(null!==e.storage_used&&void 0!==e.storage_used){if(s='<span class="storage-usage">',e.storage_quota>0){const t=jsu.getSizeDisplay(e.storage_used)+" / "+jsu.escapeHTML(e.storage_quota)+" G"+jsu.translateHTML("B");void 0!==e.storage_quota_percents?s+=' <span class="progress-bar '+this.getStorageLevelClass(e.storage_quota_level)+'" aria-hidden="true"><span class="progress-level" style="width: '+e.storage_quota_percents+'%"></span><span class="progress-label">'+t+"</span></span>":s+=t}else s+=jsu.getSizeDisplay(e.storage_used);s+="</span>";const a=this.getAvailableStorageDisplay(e,t);a&&(s+=" ("+a+")")}return s},MSAPIClient.prototype.getStorageMinimalDisplay=function(e){let t="";return null!==e.storage_used&&void 0!==e.storage_used&&(t='<span class="storage-usage">'+jsu.getSizeDisplay(e.storage_used),e.storage_quota>0&&(t+=" / "+jsu.escapeHTML(e.storage_quota)+" G"+jsu.translateHTML("B")),t+="</span>"),t},MSAPIClient.prototype.getAvailableStorageDisplay=function(e,t){let s="";return null!==e.storage_available&&void 0!==e.storage_available&&(s='<span class="storage-available nowrap">'+(e.storage_available>0?'<span class="'+this.getStorageLevelClass(e.storage_quota_level)+' ">'+jsu.translateHTML("available:")+" "+jsu.getSizeDisplay(e.storage_available)+"</span>":'<span class="red">'+jsu.translateHTML("no available space")+"</span>")+' <button type="button" class="ubi-legacy-tooltip-button no-padding no-border no-background" aria-describedby="id_storage_help" aria-label="'+jsu.translateAttribute("help")+'"><i class="fa fa-question-circle fa-fw" aria-hidden="true"></i><span role="tooltip" id="id_storage_help" class="tooltip-hidden-content">'+(t?jsu.translateHTML("Your storage usage is the size used by all media for which you are in the speakers list and all media in your personal channel."):jsu.translateHTML("The storage quota of the parent channels can have an impact on the available space of this channel."))+"</span></button></span>"),s},MSBrowserChannels.prototype.getMenuJq=function(){return this.$menu=$('<div id="ms_browser_channels_menu" style="display: none;"></div>'),this.$menu},MSBrowserChannels.prototype.getContentJq=function(){let e='<div id="ms_browser_channels" class="ms-browser-content" style="display: none;">';return this.browser.treeManager&&(e+='<div class="ms-browser-tree-place ms-channels-tree"><div><i class="fa fa-spinner fa-spin" aria-hidden="true"></i> '+jsu.translateHTML("Loading...")+"</div></div>"),e+='<div class="ms-browser-channels-body"><div class="ms-browser-channels-place"><div class="messages"><div class="message info">'+jsu.translateHTML("Select a channel to display its content.")+"</div></div></div>"+this.browser.getMoreButton()+"</div></div>",this.$content=$(e),this.$place=$(".ms-browser-channels-place",this.$content),this.$content},MSBrowserChannels.prototype.buildBreadcrumb=function(e){let t="<ol>";if(t+='<li><a href="/">'+jsu.translateHTML("Home")+"</a></li>",t+='<li><a href="#" class="tree">'+jsu.translateHTML("Channels")+"</a></li>",e){for(const s of e.path)t+='<li><a class="tree" href="#'+jsu.escapeAttribute(s.slug?s.slug:"")+'"'+(s.language?'lang="'+jsu.escapeAttribute(s.language)+'"':"")+">"+jsu.escapeHTML(s.title)+"</a></li>";t+='<li><a aria-current="page" class="tree" href="#'+jsu.escapeAttribute(e.slug?e.slug:"")+'"'+(e.language?'lang="'+jsu.escapeAttribute(e.language)+'"':"")+">"+jsu.escapeHTML(e.title)+"</a></li>"}return t+="</ol>"},MSBrowserChannels.prototype.refreshTitleAndBreadcrumb=function(){if("channels"!=this.browser.getActiveTab())return;const e=this.lastResponse?this.lastResponse.info:void 0;if(e&&"0"!=e.oid){let t='<span class="item-entry-preview"><img src="'+jsu.escapeAttribute(e.thumb)+'" alt="'+jsu.escapeHTML(e.title)+'"/></span>';if(t+='<span class="channel-titles-place">',t+='<span class="channel-title"'+(e.language?'lang="'+jsu.escapeAttribute(e.language)+'"':"")+">"+jsu.escapeHTML(e.title)+"</span>",!(this.browser.useOverlay||this.browser.hideHeader&&this.browser.initialState&&this.browser.initialState.channelSlug&&this.browser.initialState.channelSlug==e.slug)){const t=document.getElementById("breadcrumb");t&&(t.innerHTML=this.buildBreadcrumb(e))}t+="</span>",this.browser.currentSelection&&this.browser.currentSelection.oid==e.oid&&(t='<span class="selected">'+t+"</span>"),this.browser.setTitle(e.title,t)}else if(this.browser.ltiMode)this.browser.setTitle(jsu.translateHTML("My channel"));else{this.browser.setTitle(jsu.translateHTML("Main channels"));const t=document.getElementById("breadcrumb");t&&(t.innerHTML=this.buildBreadcrumb(e))}},MSBrowserChannels.prototype.onShow=function(){if(this.refreshTitleAndBreadcrumb(),this.initialized)return;this.initialized=!0,this.defaultLogoSrc=$("#mainlogo .header-logo").attr("src"),this.defaultFavSrc=$("#favicon_link").attr("src");const e=this;if(this.browser.treeManager){const t={$place:$(".ms-browser-tree-place",this.$content),msapi:this.browser.msapi,displayRoot:-1!=this.browser.displayableContent.indexOf("c"),displayPersonal:!0,currentChannelOid:this.currentChannelOid,onDataRetrieved:function(t){e.browser.updateCatalog(t)}};this.browser.useOverlay&&(t.onChange=function(t){e.displayChannel(t)}),this.treeManager=new MSTreeManager(t)}this.initOptions.initialState&&this.initOptions.initialState.channelSlug?this.displayChannelBySlug(this.initOptions.initialState.channelSlug):"self"==this.browser.filterSpeaker?this.displayPersonalChannel():this.displayChannel(this.currentChannelOid)},MSBrowserChannels.prototype.setOrder=function(e){this.order=e||"default",this.refreshDisplay(!0)},MSBrowserChannels.prototype.displayPersonalChannel=function(){const e=this;this.personalChannelOid?e.displayChannel(this.personalChannelOid):this.browser.msapi.ajaxCall("getChannelsPersonal",{},function(t){t.success?(e.personalChannelOid=t.oid,e.displayChannel(t.oid)):403==t.errorCode?e._onChannelError({error:jsu.translate("You are not allowed to have a personal channel.")}):e._onChannelError(t)})},MSBrowserChannels.prototype.displayChannelBySlug=function(e){const t=this;this.browser.getInfoForSlug(e,!1,!0,function(e){e.success?t.displayChannel(e.info.oid):t._onChannelError(e)})},MSBrowserChannels.prototype.displayChannel=function(e){if(this.currentChannelOid=e,this.browser.boxHideInfo(),this.initialized)if(this.browser.displayLoading(),this.treeManager&&this.treeManager.setActive(e),"0"!=e){const t=this;this.browser.getInfoForOid(e,!0,function(s){t._onChannelInfo(s,e)})}else this._onChannelInfo(null,e)},MSBrowserChannels.prototype.displayParent=function(){if(!this.currentChannelOid)return;const e=this.currentChannelOid,t=this.browser.catalog[e]&&this.browser.catalog[e].parent_oid?this.browser.catalog[e].parent_oid:"0";this.displayChannel(t)},MSBrowserChannels.prototype._onChannelError=function(e){this.lastResponse=null;let t='<div class="messages">';if(this.browser.useOverlay||"403"!=e.errorCode&&"401"!=e.errorCode)t+='<div class="message error">'+jsu.escapeHTML(e.error)+"</div>";else{const s=this.browser.urlLogin+"?next="+window.location.pathname+(window.location.hash?window.location.hash.substring(1):"");t+='<div class="item-description"><div class="message error">'+jsu.escapeHTML(e.error)+'</div><div style="margin: 0.3em;">'+jsu.translateHTML("Please login to access this channel")+'</div><div><a class="button default" href="'+s+'">'+jsu.translateHTML("Sign in")+"</a></div></div>"}t+="</div>",this.$place.html(t),this.browser.hideMoreBtns("channels")},MSBrowserChannels.prototype._onChannelInfo=function(e,t){if(this.currentChannelOid!=t)return void this.browser.hideLoading();if(e&&!e.success)return this._onChannelError(e);const s={};t&&"0"!=t&&(s.parent_oid=t),this.browser.parentSelectionOid&&(s.parent_selection_oid=this.browser.parentSelectionOid),this.browser.displayableContent&&(s.content=this.browser.displayableContent),null!==this.browser.filterEditable&&(s.editable=this.browser.filterEditable?"yes":"no"),null!==this.browser.filterValidated&&(s.validated=this.browser.filterValidated?"yes":"no"),this.browser.ltiMode||null===this.browser.filterSpeaker||(s.speaker=this.browser.filterSpeaker),this.browser.filterNoCategories?s.no_categories=!0:this.browser.filterCategories.length>0&&(s.categories=this.browser.filterCategories.join("\n")),s.order_by=this.order;const a=this;this.browser.msapi.ajaxCall("getChannelsContent",s,function(s){e&&(e.info&&(s.info=e.info),e.parent_selectable&&(s.parent_selectable=e.parent_selectable),e.selectable&&(s.selectable=e.selectable)),a._onChannelContent(s,t)})},MSBrowserChannels.prototype._onChannelContent=function(e,t){if(this.browser.hideLoading(),this.browser.moreChannels=[],this.browser.moreLiveStreams=[],this.browser.moreVideos=[],this.browser.morePhotosGroups=[],this.browser.hideMoreBtns("channels"),this.currentChannelOid!=t)return;if(!e.success)return this._onChannelError(e);let s;if(this.lastResponse=e,!this.browser.useOverlay&&this.browser.displayAsThumbnails&&this.browser.boxHideInfo(),this.$menu.html(""),"0"!=t){if(!this.browser.ltiMode||t!=this.personalChannelOid){const t={oid:e.info.parent_oid?e.info.parent_oid:"0",title:e.info.parent_title?e.info.parent_title:jsu.translate("Parent channel"),slug:e.info.parent_slug};let s;if(e.info.parent_oid&&e.info.parent_slug&&this.browser.updateCatalog(t),this.browser.useOverlay?(s=$('<button type="button" class="button '+this.browser.btnClass+' back-button"></button>')).click({obj:this,oid:t.oid},function(e){e.data.obj.displayChannel(e.data.oid)}):s=$('<a class="button '+this.browser.btnClass+' back-button" href="'+this.browser.getButtonLink(t,"view")+'"></a>'),!this.browser.useOverlay&&$(".navbar .back.button-text").length>0?(s.html('<i class="fa fa-chevron-circle-up fa-fw fa-2x" aria-hidden="true"></i>'),s.attr("title",jsu.translate("Parent channel")),s.attr("aria-label",jsu.translate("Parent channel")),s.addClass("back").addClass("button-text"),$(".navbar .back.button-text").replaceWith(s)):(s.html('<i class="fa fa-chevron-circle-up" aria-hidden="true"></i> <span class="hidden-below-800">'+jsu.translateHTML("Parent channel")+"</span>"),this.$menu.append(s)),this.browser.pickMode){const t=this.browser.msapi.getAvailableStorageDisplay(e.info);t&&(this.$menu.append(t+" "),window.ubiBaseJS||$(".tooltip-button",this.$menu).click(function(){$("span",this).toggle()}))}}const a=-1!=this.browser.selectableContent.indexOf("c")&&(!this.browser.parentSelectionOid||e.selectable);s=this.browser.getEntryLinks(e.info,"current",a)}else e.oid="0",s=this.browser.getEntryLinks(e,"current",!1),!this.browser.useOverlay&&$(".navbar .back.button-text").length>0&&$(".navbar .back.button-text").attr("href","..");if(s&&this.$menu.append(s),this.$place.html(""),this.browser.useOverlay)this.$place.scrollTop(0);else{if("0"!=t){const t=$('<div class="item-description"></div>');let s=!0,a=e.info.can_edit?this.browser.msapi.getStorageDisplay(e.info):"";if(e.info.views||e.info.comments){let n='<div class="'+(e.info.short_description||this.browser.couldDisplay("rss_links")||a?"right":"align-right")+' channel-description-stats">';this.browser.couldDisplay("views")&&e.info.views&&(n+='<span class="inline-block">'+e.info.views+" "+jsu.translate("views"),e.info.views_last_month&&(n+=", "+e.info.views_last_month+" "+jsu.translate("this month")),n+="</span>"),this.browser.couldDisplay("annotations")&&e.info.comments&&(n+=' <span class="inline-block">'+e.info.comments+" "+jsu.translate("annotations"),e.info.comments_last_month&&(n+=", "+e.info.comments_last_month+" "+jsu.translate("this month")),n+="</span>"),n+="</div>",t.append(n),s=!1}if(this.browser.couldDisplay("description")&&e.info.short_description){const a=$('<div class="channel-description-text">'+e.info.short_description+"</div>");e.info.short_description!=e.info.description&&(a.addClass("short-desc"),a.click({description:e.info.description},function(e){$(this).html(e.data.description).unbind("click").removeClass("short-desc")})),t.append(a),s=!1}if(this.browser.couldDisplay("channel_content")&&e.info.items_count){const a=[];e.info.channels_count&&a.push(e.info.channels_count+" "+jsu.translate("channel(s)")),e.info.videos_count&&a.push(e.info.videos_count+" "+jsu.translate("video(s)")),e.info.lives_count&&a.push(e.info.lives_count+" "+jsu.translate("live stream(s)")),e.info.pgroups_count&&a.push(e.info.pgroups_count+" "+jsu.translate("photos group(s)"));let n='<div class="channel-items-count">'+jsu.translateHTML("Channel content:");n+=" <span>"+jsu.escapeHTML(a.join(", "))+"</span>",n+=' <button type="button" class="ubi-legacy-tooltip-button no-padding no-border no-background" aria-describedby="id_count_help" aria-label="'+jsu.translateAttribute("help")+'"><i class="fa fa-question-circle fa-fw" aria-hidden="true"></i><span role="tooltip" id="id_count_help" class="tooltip-hidden-content">'+jsu.translateHTML("Sub channels items are included in counts.")+"</span></button>",n+="</div>",t.append(n),window.ubiBaseJS||$(".channel-items-count .ubi-legacy-tooltip-button",t).click(function(){$("span",this).toggle()}),s=!1}if(this.browser.couldDisplay("storage")&&a&&(a='<div class="channel-storage-usage">'+jsu.translateHTML("Storage usage:")+" "+a+"</div>",t.append(a),window.ubiBaseJS||$(".channel-storage-usage .ubi-legacy-tooltip-button",t).click(function(){$("span",this).toggle()}),s=!1),this.browser.couldDisplay("rss_links")){let a='<div class="channel-description-rss"> ';this.displayItunesRss?a+=' <span class="inline-block">'+jsu.translateHTML("Subscribe to channel videos RSS:")+'</span> <a class="nowrap" href="/channels/'+e.info.oid+'/rss.xml"><i class="fa fa-rss" aria-hidden="true"></i> '+jsu.translateHTML("standard")+'</a> <a class="nowrap" href="/channels/'+e.info.oid+'/itunes-video.xml"><i class="fa fa-apple" aria-hidden="true"></i> '+jsu.translateHTML("iTunes")+'</a> <a class="nowrap" href="/channels/'+e.info.oid+'/itunes-audio.xml"><i class="fa fa-apple" aria-hidden="true"></i> '+jsu.translateHTML("iTunes (audio only)")+"</a>":a+=' <a class="nowrap" href="/channels/'+e.info.oid+'/rss.xml"><i class="fa fa-rss" aria-hidden="true"></i> '+jsu.translateHTML("Subscribe to channel videos RSS")+"</a>",a+="</div>",t.append(a),s=!1}e.info.managers_emails&&e.info.managers_emails.length>0&&t.append('<div class="channel-description-managers"><a href="mailto:'+e.info.managers_emails.join(",")+'">'+jsu.translateHTML("Send an email to the managers of this channel")+"</a></div>"),s||this.$place.append(t)}if($("head .csslistlink").remove(),e.info){let t,s="";for(t in e.info.css_list)s+='<link class="csslistlink" rel="stylesheet" type="text/css" href="'+e.info.css_list[t]+'"/>';$("head").append(s)}e.info&&e.info.logo_url?$("#mainlogo .header-logo").attr("src",e.info.logo_url):$("#mainlogo .header-logo").attr("src",this.defaultLogoSrc),e.info&&e.info.favicon_url?$("#faviconLink").attr("href",e.info.favicon_url):$("#faviconLink").attr("href",this.defaultFavSrc)}const a=e.channels?e.channels.length:0,n=e.videos?e.videos.length:0,i=e.live_streams?e.live_streams.length:0,o=e.photos_groups?e.photos_groups.length:0,l=a>0||n>0||i>0||o>0;if(this.refreshTitleAndBreadcrumb(),l)this.browser.displayContent(this.$place,e,t,"channels");else{let e;e=-1==this.browser.selectableContent.indexOf("c")?jsu.translateHTML("This channel contains no media."):this.browser.displayableContent.length>1?jsu.translateHTML("This channel contains no sub channels and no media."):jsu.translateHTML("This channel contains no sub channels."),e+="<br/>"+jsu.translateHTML("Some contents may still exist in this channel but if it is the case your account is not allowed to see them."),this.$place.append('<div class="messages"><div class="message info">'+e+"</div></div>")}},MSBrowserChannels.prototype.refreshDisplay=function(e){e&&this.lastResponse&&(this.lastResponse=null),this.lastResponse?this._onChannelContent(this.lastResponse,this.currentChannelOid):this.browser.ltiMode?this.displayPersonalChannel():this.displayChannel(this.currentChannelOid)},MSBrowserChannels.prototype.remove=function(e){if(this.currentChannelOid==e){const t=this.browser.catalog[e]&&this.browser.catalog[e].parent_oid?this.browser.catalog[e].parent_oid:"0";!this.browser.pickMode&&this.browser.catalog[t]&&this.browser.catalog[t].slug?window.location.hash="#"+this.browser.catalog[t].slug:this.displayChannel(t)}else this.browser.removeOidFromTab(this,e)},MSBrowser.prototype.buildWidget=function(){let e,t,s;this.lastOverlayFocus=document.activeElement,this.previousFocus=null,"self"==this.filterSpeaker?(e=jsu.translate("My channel"),s=jsu.translate("My media"),t=jsu.translate("Search in my media")):(e=jsu.translate("Channels"),s=jsu.translate("Latest content"),t=jsu.translate("Search"));let a,n,i='<div class="ms-browser ms-browser-container'+(this.useOverlay?" in-overlay":"")+(this.treeManager?" has-tree":"")+(this.displayTypesIcons?" show-types-icons":"")+(this.hideHeader?" no-header":"")+'"><div class="ms-browser-header"><div class="ms-browser-menu">';this.useOverlay?i+='<button type="button" id="ms_browser_channels_tab" class="ms-browser-tab button '+this.btnClass+'" title="'+jsu.escapeAttribute(e)+'" aria-label="'+jsu.escapeAttribute(e)+'"><i class="fa fa-folder-open" aria-hidden="true"></i> <span class="hidden-below-800" aria-hidden="true">'+jsu.escapeHTML(e)+'</span></button><button type="button" id="ms_browser_latest_tab" class="ms-browser-tab button '+this.btnClass+'" title="'+jsu.escapeAttribute(s)+'" aria-label="'+jsu.escapeAttribute(s)+'"><i class="fa fa-clock-o" aria-hidden="true"></i> <span class="hidden-below-800" aria-hidden="true">'+jsu.escapeHTML(s)+'</span></button><button type="button" id="ms_browser_search_tab" class="ms-browser-tab button '+this.btnClass+'" title="'+jsu.escapeAttribute(t)+'" aria-label="'+jsu.escapeAttribute(t)+'"><i class="fa fa-search" aria-hidden="true"></i> <span class="hidden-below-800" aria-hidden="true">'+jsu.escapeHTML(t)+"</span></button>":i+='<a id="ms_browser_channels_tab" class="ms-browser-tab button '+this.btnClass+'" href="'+this.urlChannels+'" title="'+jsu.escapeAttribute(e)+'" aria-label="'+jsu.escapeAttribute(e)+'"><i class="fa fa-folder-open" aria-hidden="true"></i> <span class="hidden-below-800" aria-hidden="true">'+jsu.escapeHTML(e)+'</span></a><a id="ms_browser_latest_tab" class="ms-browser-tab button '+this.btnClass+'" href="'+this.urlLatest+'" title="'+jsu.escapeAttribute(s)+'" aria-label="'+jsu.escapeAttribute(s)+'"><i class="fa fa-clock-o" aria-hidden="true"></i> <span class="hidden-below-800" aria-hidden="true">'+jsu.escapeHTML(s)+'</span></a><a id="ms_browser_search_tab" class="ms-browser-tab button '+this.btnClass+'" href="'+this.urlSearch+'" title="'+jsu.escapeAttribute(t)+'" aria-label="'+jsu.escapeAttribute(t)+'"><i class="fa fa-search" aria-hidden="true"></i> <span class="hidden-below-800" aria-hidden="true">'+jsu.escapeHTML(t)+"</span></a>",i+='</div><h2 class="ms-browser-title"></h2></div><div class="ms-browser-bar"></div><div class="ms-browser-main ms-items"><div class="ms-browser-clear"></div><div class="ms-browser-loading"><div><i class="fa fa-spinner fa-spin" aria-hidden="true"></i> '+jsu.translateHTML("Loading...")+'</div></div><div class="ms-browser-message"><div></div></div></div></div>',this.$widget=$(i),!this.useOverlay&&$("nav .buttons-left").length>0?((n=$("nav .buttons-left")).addClass("ms-browser"),this.hideHeader&&n.addClass("no-header"),n.append(this.getTopMenuJq()),(a=$("#commands_place")).addClass("ms-browser"),this.hideHeader&&a.addClass("no-header"),a.addClass("ms-browser-dropdown-right")):((n=$(".ms-browser-header",this.$widget)).addClass("ms-browser-dropdown-right"),n.prepend(this.getTopMenuJq()),(a=$(".ms-browser-bar",this.$widget)).addClass("ms-browser-dropdown-right")),a.append(this.latest.getMenuJq()),a.append(this.channels.getMenuJq()),a.append(this.search.getMenuJq()),this.$main=$(".ms-browser-main",this.$widget),this.$main.append(this.latest.getContentJq()),this.$main.append(this.channels.getContentJq()),this.$main.append(this.search.getContentJq()),this.$main.append('<div class="ms-browser-clear"></div>'),this.$menu=$(".ms-browser-menu",this.$widget),this.place&&$(this.place).html(this.$widget),$("#ms_browser_channels_tab",this.$menu).click({obj:this},function(e){return e.data.obj.changeTab("channels"),!1}),$("#ms_browser_latest_tab",this.$menu).click({obj:this},function(e){return e.data.obj.changeTab("latest"),!1}),$("#ms_browser_search_tab",this.$menu).click({obj:this},function(e){return e.data.obj.changeTab("search"),!1}),$(".ms-browser-more-btn button",this.$widget).click({obj:this},function(e){e.data.obj.displayMore(e.data.obj.displayCount)})},MSBrowser.prototype.getTopMenuJq=function(){const e=[{default:jsu.translate("Use default sorting")},{"creation_date-desc":jsu.translate("Creation date, descending")},{"creation_date-asc":jsu.translate("Creation date, ascending")},{"add_date-desc":jsu.translate("Add date, descending")},{"add_date-asc":jsu.translate("Add date, ascending")},{"title-desc":jsu.translate("Title, descending")},{"title-asc":jsu.translate("Title, ascending")},{"slug-desc":jsu.translate("Slug, descending")},{"slug-asc":jsu.translate("Slug, ascending")},{"views-desc":jsu.translate("Number of views, descending")},{"views-asc":jsu.translate("Number of views, ascending")}];let t,s='<div class="ms-browser-top-buttons"><div class="ms-browser-dropdown" id="ms_browser_display_dropdown"><button aria-controls="ms_browser_display_dropdow_menu" aria-expanded="false" type="button" title="'+jsu.translateAttribute("Display")+'" class="button ms-browser-dropdown-button '+this.btnClass+'"><i class="fa fa-tv" aria-hidden="true"></i> <span class="hidden-below-1280">'+jsu.translateHTML("Display")+' </span><i class="fa fa-angle-down" aria-hidden="true"></i></button><div class="ms-browser-dropdown-menu" id="ms_browser_display_dropdow_menu"><div><h4>'+jsu.translateHTML("Display mode:")+'</h4><button type="button" class="button '+(this.displayAsThumbnails?"":"active")+'" id="ms_browser_display_as_list" title="'+jsu.translateAttribute("list")+(this.displayAsThumbnails?"":" ("+jsu.translateAttribute("selected setting")+")")+'">'+jsu.translateHTML("list")+'</button><button type="button" class="button '+(this.displayAsThumbnails?"active":"")+'" id="ms_browser_display_as_thumbnails" title="'+jsu.translateAttribute("thumbnails")+(this.displayAsThumbnails?" ("+jsu.translateAttribute("selected setting")+")":"")+'">'+jsu.translateHTML("thumbnails")+'</button><br/><label for="ms_browser_number_item">'+jsu.translateHTML("Number of items:")+'</label><select id="ms_browser_number_item">';for(const e of[10,30,100])s+='<option value="'+e+'"'+(e==this.displayCount?' selected="selected"':"")+">"+e+"</option>";for(t in s+='</select><br/><input id="ms_browser_display_types_icons" type="checkbox" '+(this.displayTypesIcons?'checked="checked"':"")+'> <label for="ms_browser_display_types_icons">'+jsu.translateHTML("display items type icons")+'</label></div><div class="ms-browser-channel-order"><h4><label for="ms_browser_order_channel">'+jsu.translate("Sort by:")+'</label></h4> <select id="ms_browser_order_channel">',e)for(const a in e[t])s+='<option value="'+a+'">'+jsu.escapeHTML(e[t][a])+"</option>";s+="</select></div>";const a='<option value="">'+jsu.translateHTML("unspecified")+'</option><option value="yes">'+jsu.translateHTML("yes")+'</option><option value="no">'+jsu.translateHTML("no")+"</option>";s+='<div class="ms-browser-filters"><h4>'+jsu.translateHTML("Filters:")+'</h4> <form id="ms_browser_filters_form"> <label for="ms_browser_filter_editable">'+jsu.translateHTML("Editable:")+'</label> <select id="ms_browser_filter_editable">'+a+"</select>",(this.displayableContent.length>1||"c"!=this.displayableContent)&&(s+=' <br/> <label for="ms_browser_filter_validated">'+jsu.translateHTML("Published:")+'</label> <select id="ms_browser_filter_validated">'+a+"</select>","self"!=this.filterSpeaker&&(s+=' <br/> <label for="ms_browser_filter_speaker">'+jsu.translateHTML("Speaker:")+'</label> <input type="text" id="ms_browser_filter_speaker" value="'+(this.filterSpeaker?this.filterSpeaker:"")+'"/> <button type="submit" class="button">'+jsu.translateHTML("Ok")+"</button>")),s+=" </form></div></div></div>",s+="</div>",this.$topMenu=$(s);const n=$("#ms_browser_display_dropdown",this.$topMenu);this.setupDropdown(n),$("#ms_browser_display_as_list",n).click({obj:this,$dropdown:n},function(e){e.data.obj.setDisplayAsList()}),$("#ms_browser_display_as_thumbnails",n).click({obj:this,$dropdown:n},function(e){e.data.obj.setDisplayAsThumbnails()}),$("#ms_browser_display_types_icons",n).change({obj:this,$dropdown:n},function(e){e.data.obj.setDisplayTypesIcons(this.checked)}),$("#ms_browser_order_channel",n).change({obj:this,$dropdown:n},function(e){e.data.obj.channels.setOrder($(this).val()),e.data.obj.search.setOrder($(this).val())}),$("#ms_browser_filters_form select",n).change({obj:this,$dropdown:n},function(e){$("#ms_browser_filters_form",e.data.$dropdown).submit()}),$("#ms_browser_filters_form",n).submit({obj:this,$dropdown:n},function(e){return e.data.obj.onFiltersSubmit($(this)),!1}),$("#ms_browser_number_item",n).change({obj:this},function(e){const t=parseInt(this.value,10);t>e.data.obj.displayCount&&e.data.obj.displayMore(t-e.data.obj.displayCount),e.data.obj.displayCount=t,$(".ms-browser-more-btn button").text(e.data.obj.moreLabel.replace(/\{count\}/,e.data.obj.displayCount)),jsu.setCookie("catalog-displayCount",t)});try{this.focusWasInDropdown=!1,window.addEventListener("blur",function(){this.checkFocusDropdown()}.bind(this),!0),window.addEventListener("focus",function(){this.checkFocusDropdown()}.bind(this),!0)}catch(e){console.error("Failed to listen to focus changes: "+e)}return this.$topMenu},MSBrowser.prototype.getMoreButton=function(){return this.moreLabel||(this.moreLabel=jsu.translate("Display {count} more items")),'<div class="ms-browser-more-btn"><button type="button" class="button">'+this.moreLabel.replace(/\{count\}/,this.displayCount)+"</button></div>"},MSBrowser.prototype.setTitle=function(e,t){if(t||(t=e),!this.useOverlay&&$("#global .main-title h1").length>0?($("#global .main-title h1").html(t),$("#global .main-title h1").attr("tabindex","-1"),$("#global .main-title h1").focus()):$(".ms-browser-title",this.$widget).html(t),!this.useOverlay&&document.title){if(!this.documentTilteSuffix){const e=document.title.indexOf(" - ");this.documentTilteSuffix=-1!=e?document.title.substring(e):" - Nudgis"}document.title=e+this.documentTilteSuffix}},MSBrowser.prototype.setupDropdown=function(e){$(".ms-browser-dropdown-button",e).click({$dropdown:e},function(e){const t=$(".ms-browser-dropdown-button",e.data.$dropdown),s=$(".ms-browser-dropdown-menu",e.data.$dropdown);s.attr("tabindex","-1"),t.hasClass("active")?(t.removeClass("active"),t.attr("aria-expanded",!1),s.removeClass("active")):(t.addClass("active"),t.attr("aria-expanded",!0),s.addClass("active"))}),$(document).click({$dropdown:e},function(e){const t=$(".ms-browser-dropdown-button",e.data.$dropdown),s=$(".ms-browser-dropdown-menu",e.data.$dropdown);!t.hasClass("active")||s.is(e.target)||0!==s.has(e.target).length||t.is(e.target)||0!==t.has(e.target).length||(t.removeClass("active"),t.attr("aria-expanded",!1),s.removeClass("active"))})},MSBrowser.prototype.closeDropdown=function(e){const t=$(".ms-browser-dropdown-button",e),s=$(".ms-browser-dropdown-menu",e);t.hasClass("active")&&(t.removeClass("active"),t.attr("aria-expanded",!1),s.removeClass("active"))},MSBrowser.prototype.checkFocusDropdown=function(){if(!document.activeElement||document.activeElement==document.body)return;let e=!1,t=document.activeElement;for(;t;){if(t.className&&-1!=t.className.indexOf("ms-browser-dropdown-menu")){e=!0,this.focusWasInDropdown=!0;break}t=t.parentNode}!e&&this.focusWasInDropdown&&(this.focusWasInDropdown=!1,$(".ms-browser-dropdown-button.active").removeClass("active").attr("aria-expanded",!1),$(".ms-browser-dropdown-menu.active").removeClass("active"))},MSBrowser.prototype.onFiltersSubmit=function(e){const t=[{type:"choice",id:"ms_browser_filter_editable",name:"filterEditable"},{type:"choice",id:"ms_browser_filter_validated",name:"filterValidated"}];"self"!=this.filterSpeaker&&t.push({type:"text",id:"ms_browser_filter_speaker",name:"filterSpeaker"});let s=!1;for(let a=0;a<t.length;a++){const n=$("#"+t[a].id,e);if(n.length>0){let e=n.val();if("choice"==t[a].type)switch(e){case"yes":e=!0;break;case"no":e=!1;break;default:e=null}else e||(e=null);this[t[a].name]!==e&&(this[t[a].name]=e,s=!0)}}if(s)if(this.useOverlay)this.channels.refreshDisplay(!0),this.latest.refreshDisplay(!0),this.search.refreshDisplay(!0);else{switch(this.getActiveTab()){case"channels":this.channels.refreshDisplay(!0);break;case"latest":this.latest.refreshDisplay(!0);break;case"search":this.search.refreshDisplay(!0)}}},MSBrowser.prototype.setDisplayAsList=function(){const e=$("#ms_browser_display_as_thumbnails",this.$topMenu),t=$("#ms_browser_display_as_list",this.$topMenu);t.hasClass("active")||(this.displayAsThumbnails=!1,e.removeClass("active").attr("title",e.text()),t.addClass("active").attr("title",t.text()+" ("+jsu.translate("selected setting")+")"),this.useOverlay||$("#global").addClass("max-width-1200"),jsu.setCookie("catalog-displayMode","list"),this.channels.refreshDisplay(),this.latest.refreshDisplay(),this.search.refreshDisplay())},MSBrowser.prototype.setDisplayAsThumbnails=function(){const e=$("#ms_browser_display_as_thumbnails",this.$topMenu),t=$("#ms_browser_display_as_list",this.$topMenu);e.hasClass("active")||(this.displayAsThumbnails=!0,t.removeClass("active").attr("title",t.text()),e.addClass("active").attr("title",e.text()+" ("+jsu.translate("selected setting")+")"),this.useOverlay||$("#global").removeClass("max-width-1200"),jsu.setCookie("catalog-displayMode","thumbnail"),this.channels.refreshDisplay(),this.latest.refreshDisplay(),this.search.refreshDisplay())},MSBrowser.prototype.setDisplayTypesIcons=function(e){this.displayTypesIcons=e,e?this.$widget.addClass("show-types-icons"):this.$widget.removeClass("show-types-icons"),jsu.setCookie("catalog-displayTypesIcons",e?"yes":"no")},MSBrowser.prototype.getActiveTab=function(){const e=$(".ms-browser-tab.active",this.$menu);let t=e.length>0?e.attr("id").replace(/_tab/g,"").replace(/ms_browser_/g,""):null;return t||this.pickMode||($(".ms-browser").hasClass("channels")?t="channels":$(".ms-browser").hasClass("latest")?t="latest":$(".ms-browser").hasClass("search")&&(t="search")),t},MSBrowser.prototype.changeTab=function(e,t){const s=this.getActiveTab();if(s!=e&&(s&&this[s]&&($(".ms-browser").removeClass(s),$("#ms_browser_"+s+"_tab",this.$menu).removeClass("active").attr("title",$("#ms_browser_"+s+"_tab",this.$menu).text()),this[s].$menu.css("display","none"),this[s].$content.css("display","none")),$(".ms-browser").addClass(e),$("#ms_browser_"+e+"_tab",this.$menu).addClass("active").attr("title",$("#ms_browser_"+e+"_tab",this.$menu).text()+" ("+jsu.translate("selected tab")+")"),this[e]&&(this[e].$menu.css("display",""),this[e].$content.css("display",""),this[e].onShow()),"latest"!=e?$(".ms-browser-channel-order",this.$topMenu).css("display",""):$(".ms-browser-channel-order",this.$topMenu).css("display","none"),!this.useOverlay&&!t)){let t;t="search"==e?this.urlSearch:"latest"==e?this.urlLatest:this.urlChannels+window.location.hash,window.history.pushState({ms_tab:e},e,t)}},MSBrowser.prototype.displayLoading=function(){if(isNaN(this.loadingCount)?this.loadingCount=1:this.loadingCount++,this.loadingTimeout)return;const e=this;this.loadingTimeout=setTimeout(function(){$(".ms-browser-loading",e.$widget).css("display","block"),e.loadingTimeout=null},500)},MSBrowser.prototype.hideLoading=function(){this.loadingCount&&this.loadingCount--,isNaN(this.loadingCount)||this.loadingCount>0||(this.loadingTimeout&&(clearTimeout(this.loadingTimeout),this.loadingTimeout=null),$(".ms-browser-loading",this.$widget).css("display",""))},MSBrowser.prototype.displayContent=function(e,t,s,a,n){if(n||(n=this.displayCount),t.channels&&t.channels.length>0){let i=[];n>0?(i=t.channels.slice(0,n),this.moreChannels=t.channels.slice(n),n-=i.length):this.moreChannels=t.channels,i.length>0&&this.displayItems(e,i,"channel",a,s)}if(t.live_streams&&t.live_streams.length>0){let s=[];n>0?(s=t.live_streams.slice(0,n),this.moreLiveStreams=t.live_streams.slice(n),n-=s.length):this.moreLiveStreams=t.live_streams,s.length>0&&this.displayItems(e,s,"live",a)}if(t.videos&&t.videos.length>0){let s=[];n>0?(s=t.videos.slice(0,n),this.moreVideos=t.videos.slice(n),n-=s.length):this.moreVideos=t.videos,s.length>0&&this.displayItems(e,s,"video",a)}if(t.photos_groups&&t.photos_groups.length>0){let s=[];n>0?(s=t.photos_groups.slice(0,n),this.morePhotosGroups=t.photos_groups.slice(n),n-=s.length):this.morePhotosGroups=t.photos_groups,s.length>0&&this.displayItems(e,s,"photos",a)}this.moreChannels.length+this.moreLiveStreams.length+this.moreVideos.length+this.morePhotosGroups.length>0?this.showMoreBtns(a):this.hideMoreBtns(a)},MSBrowser.prototype.displayItems=function(e,t,s,a,n){const i=this.pickMode?"h3":"h2",o=-1!=this.selectableContent.indexOf(s[0]);let l="";switch(s){case"channel":l=jsu.translate("Channels"),n&&"0"!=n&&(l=jsu.translate("Sub channels"));break;case"live":l=jsu.translate("Live streams");break;case"video":l=jsu.translate("Videos");break;case"photos":l=jsu.translate("Photos groups")}$("#header_type_"+s,e).length||e.append("<"+i+' id="header_type_'+s+'">'+l+"</"+i+">");let r=$("#section_type_"+s,e);r.length||(r=$('<ul id="section_type_'+s+'" class="ms-browser-section"></ul>'));for(let e=0;e<t.length;e++)"channels"==s&&void 0===t[e].parent_oid&&n&&(t[e].parent_oid=n),r.append(this.getContentEntry(s,t[e],o,a));e.append(r)},MSBrowser.prototype.showMoreBtns=function(e){$("#ms_browser_"+e+" .ms-browser-more-btn",this.place).css("display","block")},MSBrowser.prototype.hideMoreBtns=function(e){$("#ms_browser_"+e+" .ms-browser-more-btn",this.place).css("display","none")},MSBrowser.prototype.displayMore=function(e){const t=this.getActiveTab(),s={channels:this.moreChannels,live_streams:this.moreLiveStreams,videos:this.moreVideos,photos_groups:this.morePhotosGroups};"latest"===t?this.latest.displayMore(e):"channels"===t?this.displayContent(this.channels.$place,s,null,"channels",e):"search"===t&&this.displayContent(this.search.$place,s,null,"search",e)},MSBrowser.prototype.getContentEntry=function(e,t,s,a){this.updateCatalog(t);const n=t.oid,i=s&&(!this.parentSelectionOid||t.selectable),o=this.pickMode&&(i||"channel"==e);let l=null;(l=$('<li class="item-entry item-type-'+e+" item-entry-"+n+'"></li>')).attr("id","item_entry_"+n+"_"+a),l.addClass(this.displayAsThumbnails?"thumbnail":"list"),this.currentSelection&&this.currentSelection.oid==n&&(l.addClass("selected"),l.attr("title",t.title+" "+jsu.translate("selected"))),i&&l.addClass("selectable"),o&&l.addClass("clickable"),t.extra_class&&l.addClass(t.extra_class);let r=this._getEntryBlockHtml(t,e,o,a);this.displayAsThumbnails&&!this.pickMode&&(r+='<div class="item-entry-buttons">',r+='<button type="button" class="item-entry-info" title="'+jsu.translateAttribute("Open information panel")+'"><i class="fa fa-info" aria-hidden="true"></i></button>',t.can_edit&&(r+='<a title="'+jsu.translateAttribute("Edit")+'" href="'+this.getButtonLink(t,"edit")+'"'+this.linksTarget+'><i class="fa fa-pencil" aria-hidden="true"></i></a>'),r+='<div class="ubi-legacy overlay-info ms-items" id="item_entry_'+n+"_"+a+'_info" style="display: none;" role="dialog" tabindex="-1" aria-labelledby="item_entry_'+t.oid+"_"+a+'_info_title" aria-modal="true"></div>',r+="</div>");const c=$(r);if(this._setOnClickEntryBlock(c,n,e,t,i),l.append(c),this.displayAsThumbnails)this._setThumbnailInfoBoxHtml(e,i,n,l,t,a);else{const s=this.getEntryLinks(t,e,i);s&&l.append(s)}return $(".item-entry-link",l).focus(function(){$(".item-entry").removeClass("focus"),$(this).parent().addClass("focus")}),l},MSBrowser.prototype.couldDisplay=function(e){return-1!==this.catalogFieldsToDisplay.indexOf(e)},MSBrowser.prototype._cleanSpeakers=function(e){const t=[];for(let s of e.split(","))(s=s.trim())&&t.push(s);return t.join(", ")},MSBrowser.prototype._getEntryBlockHtml=function(e,t,s,a){let n="span",i="";const o=!!e.trash_data;let l=' tabindex="0" role="button"';this.useOverlay||!e.slug||this.pickMode&&"channel"!=t||(n="a",l="",i=' href="'+this.getButtonLink(e,"view")+'"',"channel"!=t&&(i+=this.linksTarget));let r="<"+n+i+l+' class="item-entry-link"'+(s&&"channel"!=t?' title="'+jsu.translateAttribute("Click to select this media")+'"':"")+">",c='<span class="item-entry-preview">';c+='<span class="item-entry-preview-aligner"></span>',e.thumb&&(c+='<img src="'+jsu.escapeAttribute(e.thumb)+'" alt=""'+(e.language?' lang="'+jsu.escapeAttribute(e.language)+'"':"")+"/>"),this.pickMode||"channel"==t||(c+='<b class="item-entry-preview-play"><i class="fa fa-play fa-4x" aria-hidden="true"></i></b>'),r+=c+="</span>";let d='<span class="item-entry-content">',h='<span class="item-entry-top-bar">';if("channel"==t)h+='<span class="item-entry-layout layout-channel" title="'+jsu.translateAttribute("This item is a channel")+'"></span>';else if("photos"==t)h+='<span class="item-entry-layout layout-pgroup" title="'+jsu.translateAttribute("This item is a photos group")+'"></span>';else{h+='<span class="item-entry-layout ',e.layout?h+="layout-"+jsu.escapeAttribute(e.layout):h+="layout-video",h+='" title="';let s="live"==t?jsu.translateHTML("This item is a live stream"):jsu.translateHTML("This item is a video");e.layout&&("composition"==e.layout?s+=" ("+jsu.translateHTML("dynamic Rich Media")+")":"webinar"==e.layout?s+=" ("+jsu.translateHTML("classic Rich Media")+")":s+=" ("+jsu.escapeHTML(e.layout.replace(/_/," "))+")"),h+=s,h+='"><span class="sr-only">'+s+"</span></span>"}if(e.can_edit&&("channel"==t?e.unlisted&&(h+='<span class="item-entry-unlisted" title="'+jsu.translateAttribute("This channel is unlisted")+'"><span class="sr-only">'+jsu.translateHTML("This channel is unlisted")+"</span></span>"):(e.validated?e.unlisted?h+='<span class="item-entry-unlisted" title="'+jsu.translateAttribute("This media is published and unlisted")+'"><span class="sr-only">'+jsu.translateHTML("This media is published and unlisted")+"</span></span>":h+='<span class="item-entry-published" title="'+jsu.translateAttribute("This media is published")+'"><span class="sr-only">'+jsu.translateHTML("This media is published")+"</span></span>":h+='<span class="item-entry-notpublished" title="'+jsu.translateAttribute("This media is not published")+'"><span class="sr-only">'+jsu.translateHTML("This media is not published")+"</span></span>","video"!=t||e.ready||(h+='<span class="item-entry-notready" title="'+jsu.translateAttribute("This video is not ready")+'"><span class="sr-only">'+jsu.translateHTML("This video is not ready")+"</span></span>"),"live"==t&&"ongoing"==e.status&&(h+='<span class="item-entry-live-running" title="'+jsu.translateAttribute("This live is running")+'"><span class="sr-only">'+jsu.translateHTML("This live is running")+"</span></span>"))),this.couldDisplay("duration")&&e.duration&&(h+='<span class="item-entry-duration">'+jsu.escapeHTML(e.duration)+"</span>"),this.couldDisplay("language")&&e.language){h+='<span class="item-entry-language">'+this.getLangHTML(e)+"</span>"}o&&(e.trash_data.parent_id?h+='<span class="item-entry-in-trash" title="'+jsu.translateAttribute("This item is in the recycle bin")+'"><span class="sr-only">'+jsu.translateHTML("This item is in the recycle bin")+"</span></span>":h+='<span class="item-entry-in-trash" title="'+jsu.translateAttribute("This item's parent is in the recycle bin")+'"><span class="sr-only">'+jsu.translateHTML("This item's parent is in the recycle bin")+"</span></span>"),this.displayAsThumbnails||(h+='<span class="item-entry-title"'+(e.language?' lang="'+jsu.escapeAttribute(e.language)+'"':"")+">"+jsu.escapeHTML(e.title)+"</span>"),d+=h+="</span>";let u='<span class="item-entry-bottom-bar">';if(this.displayAsThumbnails)u+='<span class="item-entry-title"'+(e.language?' lang="'+jsu.escapeAttribute(e.language)+'"':"")+">"+jsu.escapeHTML(e.title)+"</span>";else{if(this.couldDisplay("creation_date")&&e.creation&&(u+='<span class="item-entry-date">'+jsu.translateHTML("Created on")+" "+jsu.getDateDisplay(e.creation)+"</span>"),o&&(u+='<span class="item-entry-date">'+jsu.translateHTML("Deleted on")+" "+jsu.getDateDisplay(e.trash_data.trashed_at.split(".")[0])+"</span>",e.trash_data.parent_title&&(u+='<span class="item-entry-description">'+jsu.translateHTML("Deleted from")+' "'+e.trash_data.parent_title+'"</span>')),this.couldDisplay("description")&&e.short_description&&(u+='<span class="item-entry-description">'+jsu.escapeHTML($("<span>"+e.short_description+"</span>").text())+"</span>"),this.couldDisplay("license")&&e.license&&(u+='<span class="item-entry-license">'+jsu.translateHTML("License:")+" "+jsu.escapeHTML(e.license)+"</span>"),this.couldDisplay("speaker")&&e.speaker&&(u+='<span class="item-entry-speaker">'+jsu.translateHTML("Speaker:")+" "+jsu.escapeHTML(this._cleanSpeakers(e.speaker))+"</span>"),this.couldDisplay("company")&&e.company&&(u+='<span class="item-entry-company">'+jsu.translateHTML("Company:")+" "+jsu.escapeHTML(e.company)+"</span>"),this.couldDisplay("views")&&e.views&&(u+='<span class="item-entry-views">'+e.views+" "+jsu.translate("views"),e.views_last_month&&(u+=", "+e.views_last_month+" "+jsu.translate("this month")),u+="</span>"),this.couldDisplay("storage")&&e.can_edit&&null!==e.storage_used&&void 0!==e.storage_used){const t=this.msapi.getStorageMinimalDisplay(e);t&&(u+='<span class="item-entry-storage">'+jsu.translate("Storage usage:")+" "+t+"</span>")}"latest"==a&&(this.couldDisplay("type")&&(u+='<span class="item-entry-type">'+jsu.translateHTML("Type:")+" "+jsu.translateHTML(t)+"</span>"),this.couldDisplay("add_date")&&e.add_date&&(u+='<span class="item-entry-date">'+jsu.translateHTML("Added on")+" "+jsu.getDateDisplay(e.add_date)+"</span>"),this.couldDisplay("parent")&&e.parent_title&&(u+='<span class="item-entry-parent">'+jsu.translateHTML("Parent channel:")+" "+jsu.escapeHTML(e.parent_title)+"</span>"))}if(d+=u+="</span>",r+=d+="</span>",r+="</"+n+">",!this.displayAsThumbnails&&!this.pickMode&&"search"==a&&(e.annotations||e.photos)){let t;if(r+='<span class="item-entry-extra">',e.annotations){for(r+="<span>"+jsu.translateHTML("Matching annotations:")+"</span><ul>",t=0;t<e.annotations.length;t++){const s=e.annotations[t];r+='<li><a href="'+this.getButtonLink(e,"view")+"#start="+s.time+'&autoplay"'+this.linksTarget+">",s.title&&(r+=jsu.escapeHTML(s.title)),r+=" ("+jsu.escapeHTML(s.time_display)+") ",r+="</a></li>"}r+="</ul>"}if(e.photos){for(r+="<span>"+jsu.translateHTML("Matching photos:")+"</span><ul>",t=0;t<e.photos.length;t++){const s=e.photos[t];r+='<li><a href="'+this.getButtonLink(e,"view")+"#"+s.index+'"'+this.linksTarget+">",s.title&&(r+=jsu.escapeHTML(s.title)),r+=" (#"+s.index+") ",r+="</a></li>"}r+="</ul>"}r+="</span>"}return r},MSBrowser.prototype.getLangHTML=function(e){if(e.language)return e.icon_lang?'<i aria-hidden="true" class="icon-lang '+e.icon_lang+'"></i>':'<i class="text-lang" aria-hidden="true">['+e.language+"]</i>"},MSBrowser.prototype._setOnClickEntryBlock=function(e,t,s,a,n){let i=!1;"channel"==s||"parent"==s?this.useOverlay&&(e.click({obj:this,oid:t},function(e){e.data.obj.channels.displayChannel(e.data.oid),e.data.obj.changeTab("channels"),jsu.focusFirstDescendant($("#ms_browser_channels .ms-browser-channels-place")[0])}),i=!0):this.pickMode&&n&&(e.click({obj:this,oid:t},function(e){e.data.obj.pick(e.data.oid)}),i=!0),i&&e.keydown({obj:this,oid:t},function(e){"13"==e.which&&(e.preventDefault(),e.stopPropagation(),$(this).click())}),!this.pickMode&&a.can_delete&&$(".item-entry-pick-delete-media",e).click({obj:this,oid:t},function(e){e.data.obj.pick(e.data.oid,"delete")})},MSBrowser.prototype.getEntryLinks=function(e,t,s){let a="";const n="c00000000000000trash"===e.oid,i=!!e.trash_data;if(this.pickMode){if(s){const s=this.currentSelection&&this.currentSelection.oid==e.oid,n=s?"fa-check-circle":"fa-check";let i;i="channel"==t||"current"==t?s?jsu.translate("This channel is selected"):jsu.translate("Select this channel"):s?jsu.translate("This media is selected"):jsu.translate("Select this media"),a+='<button type="button" class="'+this.btnClass+' button main item-entry-pick"><i class="fa '+n+'" aria-hidden="true"></i> <span class="hidden-below-800">'+jsu.escapeHTML(i)+"</span></button>"}}else if("current"==t){if(e.can_see_stats&&(a+='<button type="button" title="'+jsu.translateAttribute("Statistics")+'" class="'+this.btnClass+' button default item-entry-pick-stats-media"><i class="fa fa-bar-chart" aria-hidden="true"></i> <span class="hidden-below-1280">'+jsu.translateHTML("Statistics")+"</span></button>"),e.can_edit&&(a+='<a title="'+jsu.translateAttribute("Edit")+'" class="'+this.btnClass+' button default item-entry-pick item-entry-pick-edit-media" href="'+this.getButtonLink(e,"edit")+'"'+this.linksTarget+'><i class="fa fa-pencil" aria-hidden="true"></i> <span class="hidden-below-800">'+jsu.translateHTML("Edit")+"</span></a>"),e.can_delete&&(a+='<button type="button" title="'+jsu.translateAttribute("Delete")+'" class="'+this.btnClass+' button danger item-entry-pick-delete-media"><i class="fa fa-trash" aria-hidden="true"></i> <span class="hidden-below-800">'+jsu.translateHTML("Delete")+"</span></button>"),e.can_add_channel){const t='<i class="fa fa-folder" aria-hidden="true"></i> <i class="fa fa-plus color-green" aria-hidden="true"></i>';a+='<a title="'+jsu.translateAttribute("Add a sub channel")+'" class="'+this.btnClass+' button item-entry-pick item-entry-pick-add-channel" href="'+this.getButtonLink(e,"addChannel")+'"'+this.linksTarget+">"+t+' <span class="hidden-below-800">'+jsu.translateHTML("Add a sub channel")+"</span></a>"}if("0"!=e.oid&&e.can_add_video){const t='<i class="fa fa-film" aria-hidden="true"></i> <i class="fa fa-plus color-green" aria-hidden="true"></i>';a+='<a title="'+jsu.translateAttribute("Add a video")+'" class="'+this.btnClass+' button item-entry-pick item-entry-pick-add-video" href="'+this.getButtonLink(e,"addVideo")+'"'+this.linksTarget+">"+t+' <span class="hidden-below-800">'+jsu.translateHTML("Add a video")+"</span></a>"}n&&(a+='<button type="button" title="'+jsu.translateAttribute("Restore everything from the recycle bin. All items will be restored in their respective original channels. If the destination channel for an item doesn't exist anymore, the content will be moved to the fallback restoration channel.")+'"class="'+this.btnClass+' button main trash-restore-all-media"><i class="fa fa-refresh" aria-hidden="true"></i><span class="hidden-below-800" style="margin-left: 0.3em;">'+jsu.translateHTML("Restore all")+"</span></button>",a+='<button type="button" title="'+jsu.translateAttribute("Permanently delete everything in recycle bin")+'"class="'+this.btnClass+' button danger trash-delete-all-media"><i class="fa fa-trash" aria-hidden="true"></i><span class="hidden-below-800" style="margin-left: 0.3em;">'+jsu.translateHTML("Delete all")+"</span></button>")}else"channel"!=t&&this.ltiMode&&(a+='<button type="button" class="'+this.btnClass+' button default item-entry-copy" data-link="'+this.getButtonLink(e,"lti",!0)+'"><i class="fa fa-chain" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("Copy LTI link")+"</span></button>"),("channel"!=t&&this.ltiMode||e.can_edit||e.can_delete)&&(a+='<a class="'+this.btnClass+' button default item-entry-pick-view-media" href="'+this.getButtonLink(e,"view")+'"'+this.linksTarget+'><i class="fa fa-eye" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("See")+"</span></a>"),e.can_edit&&(a+='<a class="'+this.btnClass+' button item-entry-pick-edit-media default" href="'+this.getButtonLink(e,"edit")+'"'+this.linksTarget+'><i class="fa fa-pencil" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("Edit")+"</span></a>"),i?e.can_delete&&(e.trash_data.parent_url&&(a+='<a type="button" class="'+this.btnClass+' button default" href="'+e.trash_data.parent_url+'" title="'+jsu.translateAttribute("Go to this item's original location (before the item was deleted).")+'"><i class="fa fa-arrow-up" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("Open original channel")+"</span></a>"),a+='<button type="button" class="'+this.btnClass+' button item-entry-pick-trash-delete-media danger"><i class="fa fa-trash" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("Delete definitively")+"</span></button>",a+='<button type="button" class="'+this.btnClass+' button item-entry-pick-trash-restore-media main" title="'+jsu.translateAttribute("This item will be restored in its original channel. If the destination channel doesn't exist anymore, the item will be moved to the fallback restoration channel.")+'"><i class="fa fa-refresh" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("Restore")+"</span></button>"):e.can_delete&&(a+='<button type="button" class="'+this.btnClass+' button item-entry-pick-delete-media danger"><i class="fa fa-trash" aria-hidden="true"></i> <span class="hidden-below-440">'+jsu.translateHTML("Delete")+"</span></button>");if(!a)return null;a='<span class="item-entry-links"><span class="item-entry-links-container">'+a+"</span></span>";const o=$(a);return"channel"!=t&&"parent"!=t||$(".item-entry-display",o).click({obj:this,item:e},function(e){e.data.obj.pickMode&&e.data.obj.channels.displayChannel(e.data.item.oid)}),s&&$(".item-entry-pick",o).click({obj:this,item:e},function(e){e.data.obj.pick(e.data.item.oid)}),!this.pickMode&&"current"==t&&e.can_see_stats&&$(".item-entry-pick-stats-media",o).click({obj:this,item:e},function(e){e.data.obj.openStatistics(e.data.item.oid)}),!this.pickMode&&e.can_delete&&$(".item-entry-pick-delete-media",o).click({obj:this,item:e},function(e){e.data.obj.pick(e.data.item.oid,"delete")}),n&&($(".trash-restore-all-media",o).click({obj:this,item:e},function(e){const t=[];console.log(e.data.obj.channels.lastResponse);for(const s of["channels","videos","live_streams","photos_groups"])if(Array.isArray(e.data.obj.channels.lastResponse[s]))for(const a of e.data.obj.channels.lastResponse[s])t.push(a);e.data.obj.deleteOrRestore(t,!0)}),$(".trash-delete-all-media",o).click({obj:this,item:e},function(e){const t=[];for(const s of["channels","videos","live_streams","photos_groups"])if(Array.isArray(e.data.obj.channels.lastResponse[s]))for(const a of e.data.obj.channels.lastResponse[s])t.push(a);e.data.obj.deleteOrRestore(t)})),i&&($(".item-entry-pick-trash-delete-media",o).click({obj:this,item:e},function(e){e.data.obj.deleteOrRestore([e.data.item])}),$(".item-entry-pick-trash-restore-media",o).click({obj:this,item:e},function(e){e.data.obj.deleteOrRestore([e.data.item],!0)})),$(".item-entry-copy",o).length>0&&$(".item-entry-copy",o).click(function(){const e=$(this),t=e.attr("data-link"),s=$('<input type="text" style="position: absolute; left: -10000px; top: 0;"/>').val(t);let a,n;$("body").append(s),s.select();try{n=(a=document.execCommand("copy"))?jsu.translate("copied"):jsu.translate("cannot copy")}catch(e){a=!1,n=jsu.translate("failed to copy"),console.error("Failed to copy to clipboard: "+e)}n='<i class="fa '+(a?"fa-check":"fa-warning")+'" aria-hidden="true"></i> '+jsu.escapeHTML(n),e.append('<span class="copy-msg">'+n+"</span>"),e.addClass("copied"),setTimeout(function(){e.removeClass("copied"),$(".copy-msg",e).remove()},1e3),s.remove()}),o},MSBrowser.prototype.getButtonLink=function(e,t,s){let a="",n="",i="";if(e&&e.oid&&(i=e.oid[0]),t||i&&""!==i&&"0"!==i||e&&"0"!=e.oid)if("view"==t)e.slug||"0"==e.oid||this.getInfoForOid(e.oid,!1,function(t){e=t.info}),"0"==i?(a="/channels/",n="#"):"c"==i?(a="/channels/",n="#"+e.slug):("l"==i?a="/lives/"+e.slug+"/":"v"==i?a="/videos/"+e.slug+"/":"p"==i&&(a="/photos/"+e.slug+"/"),a&&this.iframeMode&&(a+="iframe/"));else if("lti"==t)a="/lti/"+e.oid+"/";else if("edit"==t)a=this.iframeMode?"/edit/iframe/"+e.oid+"/":"/edit/"+e.oid+"/";else if("addChannel"==t)a="/add-content/channel/?in="+(e&&"0"!=e.oid?e.oid:"root");else{if("addVideo"!=t)return console.error("Unrecognized action specified in MSBrowser.prototype.getButtonLink call:",e,t,s),"";a="/add-content/",n="#add_media_by_upload",e&&"0"!=e.oid&&(a+="?in="+e.oid)}else a="/channels/",n="#";return s&&(a=window.location.protocol+"//"+window.location.host+a),this.linksUrlParams&&"lti"!=t&&(a+=(a.indexOf("?")<0?"?":"&")+this.linksUrlParams),a+n},MSBrowser.prototype._getThumbnailInfoBoxHtml=function(e,t,s,a){let n='<div><div tabindex="0"></div>';if(n+='<div class="trap-focus">',n+='<div class="overlay-info-title" id="item_entry_'+e.oid+"_"+a+'_info_title" >',n+='<button type="button" class="overlay-info-close button default '+this.btnClass+'" title="'+jsu.translateAttribute("Hide this window")+'" aria-label="'+jsu.translateAttribute("Hide this window")+'"><i class="fa fa-close" aria-hidden="true"></i></button>',n+='<h1><a href="'+this.getButtonLink(e,"view")+'"'+this.linksTarget+">"+jsu.escapeHTML(e.title)+"</a></h1>",n+="</div>",n+='<div class="overlay-info-content">',!this.pickMode&&"search"==a&&(e.annotations||e.photos)){if(e.annotations){n+="<div><b>"+jsu.translateHTML("Matching annotations:")+"</b></div>",n+="<ul>";for(let t=0;t<e.annotations.length;t++){const s=e.annotations[t];n+='<li><a href="'+this.getButtonLink(e,"view")+"#start="+s.time+'&autoplay"'+this.linksTarget+">",s.title&&(n+=jsu.escapeHTML(s.title)),n+=" ("+jsu.escapeHTML(s.time_display)+") ",n+="</a></li>"}n+="</ul>"}if(e.photos){n+="<div><b>"+jsu.translate("Matching photos:")+"</b></div>",n+="<ul>";for(let t=0;t<e.photos.length;t++){const s=e.photos[t];n+='<li><a href="'+this.getButtonLink(e,"view")+"#"+s.index+'"'+this.linksTarget+">",s.title&&(n+=jsu.escapeHTML(s.title)),n+=" (#"+s.index+") ",n+="</a></li>"}n+="</ul>"}n+="<hr/>"}if(n+='<table class="overlay-info-table">',n+='<caption class="sr-only">'+jsu.translateHTML("Media information")+"</caption>",this.couldDisplay("creation_date")&&e.creation&&"video"==t&&(n+="<tr>",n+='<th scope="row" class="overlay-info-label">'+jsu.translateHTML("Recording date")+" :</th>",n+="<td>"+jsu.getDateDisplay(e.creation)+"</td>",n+="</tr>"),this.couldDisplay("add_date")&&e.add_date&&(n+="<tr>",n+='<th scope="row" class="overlay-info-label">'+jsu.translateHTML("Publishing date")+" :</th>",n+="<td>"+jsu.getDateDisplay(e.add_date)+"</td>",n+="</tr>"),this.couldDisplay("duration")&&e.duration&&(n+="<tr>",n+='<th scope="row" class="overlay-info-label">'+jsu.translateHTML("Duration")+" :</th>",n+="<td>"+jsu.escapeHTML(e.duration)+"</td>",n+="</tr>"),this.couldDisplay("views")&&e.views_last_month&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Views last month")+" :</th><td>"+e.views_last_month+"</td></tr>"),this.couldDisplay("views")&&e.views&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Views")+" :</th><td>"+e.views+"</td></tr>"),this.couldDisplay("annotations")&&e.comments_last_month&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Annotations last month")+" :</th><td>"+e.comments_last_month+"</td></tr>"),this.couldDisplay("annotations")&&e.comments&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Annotations")+" :</th><td>"+e.comments+"</td></tr>"),this.couldDisplay("storage")&&e.can_edit&&null!==e.storage_used&&void 0!==e.storage_used){const t=this.msapi.getStorageMinimalDisplay(e);t&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Storage usage")+" :</th><td>"+t+"</td></tr>")}this.couldDisplay("license")&&e.license&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("License")+" :</th><td>"+jsu.escapeHTML(e.license)+"</td></tr>"),this.couldDisplay("speaker")&&e.speaker&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Speaker")+" :</th><td>"+jsu.escapeHTML(e.speaker)+"</td></tr>"),this.couldDisplay("company")&&e.company&&(n+='<tr><th scope="row" class="overlay-info-label">'+jsu.translateHTML("Company")+" :</th><td>"+jsu.escapeHTML(e.company)+"</td></tr>"),n+="</table>",this.couldDisplay("description")&&e.short_description&&(n+="<hr/>",n+="<p>"+jsu.escapeHTML($("<span>"+e.short_description+"</span>").text())+"</p>"),n+="</div>",n+="</div>",n+='<div tabindex="0"></div></div>';const i=$(n),o=this.getEntryLinks(e,t,s);return o&&$(".overlay-info-content",i).append(o),$(".overlay-info-close",i).click({obj:this},function(e){e.data.obj.boxHideInfo()}),$(document).keydown({obj:this},function(t){$("#item_entry_"+e.oid+"_"+a+"_info").length&&27==t.keyCode&&(t.stopImmediatePropagation(),t.data.obj.boxHideInfo())}),i},MSBrowser.prototype._setThumbnailInfoBoxHtml=function(e,t,s,a,n,i){$(".item-entry-info",a).click({obj:this,$entry:a},function(o){const l="#"+a.attr("id")+"_info";if(o.data.obj.previousFocus=this,""===$(l,o.data.$entry).html())if("search"==i){const s=o.data.obj._getThumbnailInfoBoxHtml(n,e,t,i);$(l,o.data.$entry).append(s),o.data.obj.boxOpenInfo(a)}else o.data.obj.getInfoForOid(s,!0,function(s){const n=s.info;o.data.obj.updateCatalog(s.info);const r=o.data.obj._getThumbnailInfoBoxHtml(n,e,t,i);$(l,o.data.$entry).append(r),o.data.obj.boxOpenInfo(a)});else o.data.obj.boxOpenInfo(a)})},MSBrowser.prototype.trapFocus=function(e,t){jsu.ignoreUntilFocusChanges||(e.contains(t.target)?this.lastOverlayFocus=t.target:(jsu.focusFirstDescendant(e),this.lastOverlayFocus==document.activeElement&&jsu.focusLastDescendant(e),this.lastOverlayFocus=document.activeElement))},MSBrowser.prototype.boxOpenInfo=function(e){this.boxHideInfo();const t="#"+e.attr("id")+"_info",s=$(t);if(s.hasClass("moved")||s.addClass("moved").detach().appendTo("body"),!s.is(":visible")){const a=$(".item-entry-preview",e),n=parseInt(a.offset().top,10)-1;let i=parseInt(a.offset().left,10)+a.width(),o="auto";$(window).width()/2-i<0&&(i="auto",o=$(window).width()-parseInt(a.offset().left,10)),s.css("left",i+"px"),s.css("right",o+"px"),s.css("top",n+"px"),$(".item-entry-info",e).addClass("info-displayed"),s.fadeIn("fast"),this.lastOverlayFocus=document.activeElement,s.focusin(this.trapFocus.bind(this,$(".trap-focus",s)[0])),jsu.focusFirstDescendant($(".trap-focus",s)[0]),this.boxClickHandler&&$(document).unbind("click",this.boxClickHandler);const l=this;this.boxClickHandler=function(e){$(e.target).closest(t).length||$(e.target).closest(".item-entry-info").length||!$(t).is(":visible")||l.boxHideInfo()},$(document).click(this.boxClickHandler)}},MSBrowser.prototype.boxHideInfo=function(){$(".overlay-info:visible").length&&($(".overlay-info:visible").off("focusin"),this.lastOverlayFocus=document.activeElement,$(".overlay-info:visible").fadeOut("fast"),$(".item-entry-info.info-displayed").removeClass("info-displayed"),this.previousFocus&&this.previousFocus.focus())},MSBrowser.prototype.displayCategories=function(){const e=this;if(this.siteSettingsCategories.length>0){let t=' <button type="button" id="open_hidden_categories" class="button">'+jsu.translate("Categories")+' <i class="fa fa-angle-down" aria-hidden="true"></i></button>';t+=' <div id="hidden_categories" class="hidden-visibility">',t+=' <label for="filter_no_categories"><input id="filter_no_categories" type="checkbox"/><span>'+jsu.translateHTML("Unspecified")+"</span></label><br />";for(let e=0;e<this.siteSettingsCategories.length;e++){const s=jsu.escapeAttribute(this.siteSettingsCategories[e][0]),a=jsu.escapeHTML(this.siteSettingsCategories[e][1]),n=this.filterCategories.indexOf(s)<0?"":' checked="checked"';t+=' <label for="'+s+'"><input class="checkbox" id="'+jsu.escapeAttribute(s)+'" type="checkbox" value="'+jsu.escapeAttribute(s)+'"'+n+"/><span>"+jsu.escapeHTML(a)+"</span></label>"}t+=" </div>",$(".ms-browser-filters",this.$topMenu).append(t),$("#open_hidden_categories",this.$topMenu).click(function(){$("#hidden_categories").hasClass("hidden-visibility")?($(".fa",this).removeClass("fa-angle-down").addClass("fa-angle-up"),$("#hidden_categories").removeClass("hidden-visibility")):($("#hidden_categories").addClass("hidden-visibility"),$(".fa",this).removeClass("fa-angle-up").addClass("fa-angle-down"))}),$("#hidden_categories .checkbox",this.$topMenu).click(function(){const t=this.checked;e.filterNoCategories=!1,$("#filter_no_categories",e.$topMenu).prop("checked",!1),t?e.filterCategories.push(this.value):e.filterCategories.splice(e.filterCategories.indexOf(this.value),1),e.channels.refreshDisplay(!0),e.latest.refreshDisplay(!0),e.search.refreshDisplay(!0)}),$("#filter_no_categories",this.$topMenu).click(function(){this.checked?(e.filterCategories=[],$("#hidden_categories .checkbox",e.$topMenu).prop("checked",!1),e.filterNoCategories=!0,e.channels.refreshDisplay(!0),e.latest.refreshDisplay(!0),e.search.refreshDisplay(!0)):(e.filterNoCategories=!1,e.channels.refreshDisplay(!0),e.latest.refreshDisplay(!0),e.search.refreshDisplay(!0))})}},MSBrowser.prototype.removeOidFromTab=function(e,t){if($(".item-entry-"+t,e.$content).remove(),e.lastResponse){const s=["items","channels","live_streams","videos","photos_groups"];for(let a=0;a<s.length;a++){let n=-1;if(e.lastResponse[s[a]])for(let i=0;i<e.lastResponse[s[a]].length;i++)if(e.lastResponse[s[a]][i].oid==t){n=i;break}if(-1!=n){e.lastResponse[s[a]].splice(n,1);break}}}},MSBrowser.prototype.openStatistics=function(e){this.overlayStats||(this.overlayStats=new OverlayDisplayManager),this.overlayStats.show({title:jsu.translate("See statistics on this channel"),iframe:"/statistics/iframe/"+e+"/?period=last_year"})},MSBrowserLatest.prototype.getDisplayableContent=function(){let e=this.browser.displayableContent;return e.length>1&&this.browser.ltiMode&&-1!=e.indexOf("c")&&(e=e.replace(/c/g,"")),e},MSBrowserLatest.prototype.getMenuJq=function(){const e=this.getDisplayableContent();let t="";return t+='<div id="ms_browser_latest_menu" style="display: none;">',e.length>1&&(t+='<div class="ms-browser-dropdown" id="ms_browser_latest_types_dropdown">',t+='<button type="button" aria-controls="ms_browser_latest_types_dropdown_menu" aria-expanded="false" class="button ms-browser-dropdown-button '+this.browser.btnClass+'">'+jsu.translateHTML("Content types")+' <i class="fa fa-angle-down" aria-hidden="true"></i></button>',t+='<div class="ms-browser-dropdown-menu ms-browser-latest-types" id="ms_browser_latest_types_dropdown_menu">',t+="<h4>"+jsu.translateHTML("Content types to display:")+"</h4>",-1!=e.indexOf("c")&&(t+='<p><input id="latest_display_channel" type="checkbox">',t+=' <label for="latest_display_channel">'+jsu.translateHTML("channels")+"</label></p>"),-1!=e.indexOf("v")&&(t+='<p><input id="latest_display_video" type="checkbox">',t+=' <label for="latest_display_video">'+jsu.translateHTML("videos")+"</label></p>"),-1!=e.indexOf("l")&&(t+='<p><input id="latest_display_live" type="checkbox">',t+=' <label for="latest_display_live">'+jsu.translateHTML("live streams")+"</label></p>"),-1!=e.indexOf("p")&&(t+='<p><input id="latest_display_photos" type="checkbox">',t+=' <label for="latest_display_photos">'+jsu.translateHTML("photos")+"</label></p>"),t+="</div>",t+="</div>"),t+="</div>",this.$menu=$(t),e.length>1&&(this.browser.setupDropdown($("#ms_browser_latest_types_dropdown",this.$menu)),$(".ms-browser-latest-types input",this.$menu).change({obj:this},function(e){e.data.obj.refreshDisplay(!0);const t=this.id.split("_")[2][0];let s=jsu.getCookie("catalog-lastestTypes");s||(s="vlp"),this.checked?-1==s.indexOf(t)&&(s+=t):s=s.replace(new RegExp(t),""),jsu.setCookie("catalog-lastestTypes",s)})),this.$menu},MSBrowserLatest.prototype.getContentJq=function(){const e='<div id="ms_browser_latest" class="ms-browser-content" style="display: none;"><div class="messages"><div class="message info">'+jsu.translateHTML("This list presents all media and channels ordered by add date.")+'</div></div><div class="ms-browser-latest-place"></div>'+this.browser.getMoreButton()+"</div>";return this.$content=$(e),this.$place=$(".ms-browser-latest-place",this.$content),this.$content},MSBrowserLatest.prototype.onShow=function(){if(this.browser.setTitle(jsu.translateHTML("Latest media")),this.initialized)return;if(this.initialized=!0,this.getDisplayableContent().length>1){let e=jsu.getCookie("catalog-lastestTypes");e||(e="cvlp"),$(".ms-browser-latest-types #latest_display_channel",this.$menu).prop("checked",-1!=e.indexOf("c")),$(".ms-browser-latest-types #latest_display_video",this.$menu).prop("checked",-1!=e.indexOf("v")),$(".ms-browser-latest-types #latest_display_live",this.$menu).prop("checked",-1!=e.indexOf("l")),$(".ms-browser-latest-types #latest_display_photos",this.$menu).prop("checked",-1!=e.indexOf("p"))}this.loadLatest(this.browser.displayCount)},MSBrowserLatest.prototype.loadLatest=function(e,t){if(this.latestLoading)return;this.latestLoading=!0;const s=this.getDisplayableContent(),a={};s.length>1?(a.content="",-1!=s.indexOf("c")&&$("#latest_display_channel",this.$menu).is(":checked")&&(a.content+="c"),-1!=s.indexOf("v")&&$("#latest_display_video",this.$menu).is(":checked")&&(a.content+="v"),-1!=s.indexOf("l")&&$("#latest_display_live",this.$menu).is(":checked")&&(a.content+="l"),-1!=s.indexOf("p")&&$("#latest_display_photos",this.$menu).is(":checked")&&(a.content+="p")):s&&(a.content=s),null!==this.browser.filterEditable&&(a.editable=this.browser.filterEditable?"yes":"no"),null!==this.browser.filterValidated&&(a.validated=this.browser.filterValidated?"yes":"no"),null!==this.browser.filterSpeaker&&(a.speaker=this.browser.filterSpeaker),this.browser.filterNoCategories?a.no_categories=!0:this.browser.filterCategories.length>0&&(a.categories=this.browser.filterCategories.join("\n"));let n=0;if(this.startDate&&(a.start=this.startDate,n=parseInt(this.startDate.replace(new RegExp("[-_]","g"),""),10),isNaN(n)&&(n=0)),t){const e=parseInt(t.replace(new RegExp("[-_]","g"),""),10);if(n>0&&!isNaN(e)&&e>=n)return this.latestLoading=!1,void console.log("cancelled");a.end=t}e&&(a.count=e);const i=this;this.browser.displayLoading(),this.browser.msapi.ajaxCall("getLatestContent",a,function(e){e.items&&e.items.length>0&&(i.lastResponse?i.lastResponse.items=i.lastResponse.items.concat(e.items):i.lastResponse=e),i._onAjaxResponse(e),i.latestLoading=!1})},MSBrowserLatest.prototype._onAjaxError=function(e){let t='<div class="messages">';if(this.browser.useOverlay||"403"!=e.errorCode&&"401"!=e.errorCode)t+='<div class="message error">'+jsu.escapeHTML(e.error)+"</div>";else{const s=this.browser.urlLogin+"?next="+window.location.pathname+(window.location.hash?window.location.hash.substring(1):"");t+='<div class="item-description"><div class="message error">'+jsu.escapeHTML(e.error)+"</div><p>"+jsu.translateHTML("Please login to access this page")+'<br /> <a href="'+s+'">'+jsu.translateHTML("Sign in")+"</a></p></div>"}t+="</div>",this.$place.html(t)},MSBrowserLatest.prototype._onAjaxResponse=function(e){if(this.browser.hideLoading(),!e.success)return this._onAjaxError(e);this.startDate=e.max_date,this.more=!0===e.more;for(let t=0;t<e.items.length;t++){const s=e.items[t];if(s.date_label&&s.date_label!=this.dateLabel){this.dateLabel=s.date_label;const e=this.browser.pickMode?"h3":"h2";this.$place.append("<"+e+">"+this.dateLabel+"</"+e+">"),this.$section=$('<ul class="ms-browser-section"></ul>'),this.$place.append(this.$section)}else this.$section||(this.$section=$('<ul class="ms-browser-section"></ul>'),this.$place.append(this.$section),console.log("A browser section is missing in latest tab. This should not happen.",s.date_label,this.dateLabel));let a;a="v"==s.type?"video":"l"==s.type?"live":"p"==s.type?"photos":"channel";const n=-1!=this.browser.selectableContent.indexOf(s.type);this.$section.append(this.browser.getContentEntry(a,s,n,"latest"))}if(null===this.$section){const e=$('<div class="messages"><div class="message info">'+jsu.translate("No contents.")+"</div></div>");this.$place.append(e)}this.more?this.browser.showMoreBtns("latest"):this.browser.hideMoreBtns("latest")},MSBrowserLatest.prototype.displayMore=function(e){this.more&&this.loadLatest(e)},MSBrowserLatest.prototype.refreshDisplay=function(e){e&&(this.lastResponse=null),this.lastResponse?(this.dateLabel="",this.$section=null,this.$place.html(""),this._onAjaxResponse(this.lastResponse)):(this.more=!1,this.startDate="",this.dateLabel="",this.$section=null,this.$place.html(""),this.loadLatest(this.browser.displayCount))},MSBrowserLatest.prototype.remove=function(e){this.browser.removeOidFromTab(this,e)},MSBrowserSearch.prototype.getDisplayableContent=function(){let e=this.browser.displayableContent;return e.length>1&&this.browser.ltiMode&&-1!=e.indexOf("c")&&(e=e.replace(/c/g,"")),e},MSBrowserSearch.prototype.shouldBeDisplayed=function(e,t){if(!t)return!0;for(let s=0;s<e.length;s++)if(-1!=t.indexOf(e[s]))return!0;return!1},MSBrowserSearch.prototype.getMenuJq=function(){const e=this.getDisplayableContent();let t='<div id="ms_browser_search_menu" style="display: none;"><form class="ms-browser-search-form" method="get" action="." onsubmit="javascript: return false;"><label for="ms_browser_search_text"><span class="hidden-below-800">'+jsu.translateHTML("Search:")+'</span></label> <input id="ms_browser_search_text" type="text" value=""> <button type="submit" class="button" id="ms_browser_search_start">'+jsu.translateHTML("Go")+'</button></form><div class="ms-browser-dropdown" id="ms_browser_search_in_dropdown"><button type="button" aria-controls="ms_browser_search_in_dropdown_menu" aria-expanded="false" class="button ms-browser-dropdown-button '+this.browser.btnClass+'">'+jsu.translate("Search in")+' <i class="fa fa-angle-down" aria-hidden="true"></i></button><div class="ms-browser-dropdown-menu ms-browser-search-in" id="ms_browser_search_in_dropdown_menu"> <div><button type="button" class="button" id="ms_browser_search_in_all">'+jsu.translateHTML("all")+'</button> <button type="button" class="button" id="ms_browser_search_in_none">'+jsu.translateHTML("none")+"</button></div>";for(let s=0;s<this.searchInFields.length;s++){const a=this.searchInFields[s];this.shouldBeDisplayed(e,a.items)&&(t+=' <div><input id="ms_browser_search_'+a.name+'" type="checkbox" '+(a.initial?'checked="checked"':"")+">",t+=' <label for="ms_browser_search_'+a.name+'">'+a.label+"</label></div>")}if(t+="</div></div>",e.length>1){t+='<div class="ms-browser-dropdown" id="ms_browser_search_for_dropdown"><button type="button" aria-controls="ms_browser_search_for_dropdown_menu" aria-expanded="false" class="button ms-browser-dropdown-button '+this.browser.btnClass+'">'+jsu.translateHTML("Search for")+' <i class="fa fa-angle-down" aria-hidden="true"></i></button><div class="ms-browser-dropdown-menu ms-browser-search-for" id="ms_browser_search_for_dropdown_menu"> <div><button type="button" class="button" id="ms_browser_search_for_all">'+jsu.translateHTML("all")+'</button> <button type="button" class="button" id="ms_browser_search_for_none">'+jsu.translateHTML("none")+"</button></div>";for(let s=0;s<this.searchForFields.length;s++){const a=this.searchForFields[s];this.shouldBeDisplayed(e,a.items)&&(t+=' <div><input id="ms_browser_search_'+a.name+'" type="checkbox" '+(a.initial?'checked="checked"':"")+">",t+=' <label for="ms_browser_search_'+a.name+'">'+a.label+"</label></div>")}t+="</div></div>"}return t+="</div>",this.$menu=$(t),this.browser.setupDropdown($("#ms_browser_search_in_dropdown",this.$menu)),this.browser.setupDropdown($("#ms_browser_search_for_dropdown",this.$menu)),$("form",this.$menu).submit({obj:this},function(e){e.data.obj.onSearchSubmit()}),$("#ms_browser_search_in_all",this.$menu).click({obj:this},function(e){$(".ms-browser-search-in input[type=checkbox]",e.data.obj.$menu).prop("checked",!0),e.data.obj.onSearchSubmit()}),$("#ms_browser_search_in_none",this.$menu).click({obj:this},function(e){$(".ms-browser-search-in input[type=checkbox]",e.data.obj.$menu).prop("checked",!1),e.data.obj.onSearchSubmit()}),$("#ms_browser_search_for_all",this.$menu).click({obj:this},function(e){$(".ms-browser-search-for input[type=checkbox]",e.data.obj.$menu).prop("checked",!0),e.data.obj.onSearchSubmit()}),$("#ms_browser_search_for_none",this.$menu).click({obj:this},function(e){$(".ms-browser-search-for input[type=checkbox]",e.data.obj.$menu).prop("checked",!1),e.data.obj.onSearchSubmit()}),$("input[type=checkbox]",this.$menu).change({obj:this},function(e){e.data.obj.onSearchSubmit()}),this.$menu},MSBrowserSearch.prototype.getContentJq=function(){const e='<div id="ms_browser_search" class="ms-browser-content" style="display: none;"><div class="ms-browser-search-place"><div class="messages"><div class="message info">'+jsu.translateHTML("Use the input above to search for something.")+"</div></div></div>"+this.browser.getMoreButton()+"</div>";return this.$content=$(e),this.$place=$(".ms-browser-search-place",this.$content),this.$content},MSBrowserSearch.prototype.onShow=function(){this.browser.setTitle(this.currentTitle?this.currentTitle:jsu.translate("Search")),this.initialized||(this.initialized=!0,this.browser.hideMoreBtns("search"),this.onUrlChange(),this.browser.useOverlay||"search"!=this.browser.getActiveTab()||$("#top_search_form form").submit({obj:this},function(e){return $("#ms_browser_search_text",this.$menu).val($("#top_search_input").val()),e.data.obj.onSearchSubmit(),!1}))},MSBrowserSearch.prototype.setOrder=function(e){this.order=e||"default",this.refreshDisplay(!0)},MSBrowserSearch.prototype.onUrlChange=function(){if(!this.initialized)return;const e=this.browser.parseUrl(),t=this.getDisplayableContent();for(let s=0;s<this.searchInFields.length;s++){const a=this.searchInFields[s];if(this.shouldBeDisplayed(t,a.items)){let t;t=e.hasInVals?Boolean(e[a.name]):a.initial,$("#ms_browser_search_"+a.name,this.$menu).prop("checked",t)}}for(let s=0;s<this.searchForFields.length;s++){const a=this.searchForFields[s];if(this.shouldBeDisplayed(t,a.items)){let t;t=e.hasForVals?Boolean(e[a.name]):a.initial,$("#ms_browser_search_"+a.name,this.$menu).prop("checked",t)}}e.text&&($("#ms_browser_search_text",this.$menu).val(e.text),this.onSearchSubmit(!0))},MSBrowserSearch.prototype.toggleSearchLoading=function(){this.loadingSearch=!this.loadingSearch;const e=this.browser.useOverlay?$("#ms_browser_search_text",this.$menu):$("#top_search_input"),t=this.browser.useOverlay?$("#ms_browser_search_start",this.$menu):$("#top_search_btn");this.loadingSearch?(e.prop("disabled",!0),t.prop("disabled",!0)):(e.prop("disabled",!1),t.prop("disabled",!1))},MSBrowserSearch.prototype.onSearchSubmit=function(e){const t=$("#ms_browser_search_text",this.$menu).val();if(!t)return;if(this.loadingSearch)return;this.toggleSearchLoading(),this.browser.displayLoading();const s=this.getDisplayableContent();let a="text="+t,n="";for(let e=0;e<this.searchInFields.length;e++){const t=this.searchInFields[e];if(this.shouldBeDisplayed(s,t.items)){$("#ms_browser_search_"+t.name,this.$menu).is(":checked")&&(n+=t.name.substring(2),a+="&"+t.name)}}n=n?n.substring(1):"metadata";let i="";for(let e=0;e<this.searchForFields.length;e++){const t=this.searchForFields[e];if(this.shouldBeDisplayed(s,t.items)){$("#ms_browser_search_"+t.name,this.$menu).is(":checked")&&(i+=t.name.substring(4,5),a+="&"+t.name)}}i||(i=s);const o={search:t,content:i,order_by:this.order,fields:n};null!==this.browser.filterEditable&&(o.editable=this.browser.filterEditable?"yes":"no"),null!==this.browser.filterValidated&&(o.validated=this.browser.filterValidated?"yes":"no"),null!==this.browser.filterSpeaker&&(o.speaker=this.browser.filterSpeaker),this.browser.filterNoCategories?o.no_categories=!0:this.browser.filterCategories.length>0&&(o.categories=this.browser.filterCategories.join("\n"));const l=jsu.escapeHTML(jsu.translate("Search results for:")+" "+t);if(this.currentTitle=l,this.browser.setTitle(l),!this.browser.pickMode&&!e){let e=this.browser.urlSearch;e.indexOf("?")<0?e+="?"+a:e+="&"+a,this.lastUrl&&this.lastUrl==e||(this.lastUrl=e,window.history.pushState({ms_tab:"search",search:t},l,e))}const r=this;this.browser.msapi.ajaxCall("search",o,function(e){r.toggleSearchLoading(),r._onAjaxResponse(e),window.gaPageview&&window.gaPageview("ajax search","/ajax_search?search="+o.search+"&fields="+o.fields)})},MSBrowserSearch.prototype._onAjaxError=function(e){this.lastResponse=null;let t='<div class="messages">';if(this.browser.useOverlay||"403"!=e.errorCode&&"401"!=e.errorCode)t+='<div class="message error">'+jsu.escapeHTML(e.error)+"</div>";else{const s=this.browser.urlLogin+"?next="+window.location.pathname+(window.location.hash?window.location.hash.substring(1):"");t+='<div class="item-description"><div class="message error">'+jsu.escapeHTML(e.error)+"</div><p>"+jsu.translateHTML("Please login to access this page")+'<br /> <a href="'+s+'">'+jsu.translate("Sign in")+"</a></p></div>"}t+="</div>",this.$place.html(t)},MSBrowserSearch.prototype._onAjaxResponse=function(e){if(this.browser.hideLoading(),this.browser.moreChannels=[],this.browser.moreLiveStreams=[],this.browser.moreVideos=[],this.browser.morePhotosGroups=[],this.browser.hideMoreBtns("search"),!e.success)return this._onAjaxError(e);this.lastResponse=e;const t=e.channels?e.channels.length:0,s=e.videos?e.videos.length:0,a=e.live_streams?e.live_streams.length:0,n=e.photos_groups?e.photos_groups.length:0,i=t>0||s>0||a>0||n>0;if(this.$place.html(""),i){const i=[];t>0&&i.push(t+" "+jsu.translate("channel(s)")),s>0&&i.push(s+" "+jsu.translate("video(s)")),a>0&&i.push(a+" "+jsu.translate("live stream(s)")),n>0&&i.push(n+" "+jsu.translate("photos group(s)"));const o='<div class="ms-browser-search-matching"><b>'+jsu.translateHTML("Matching items:")+"</b> "+jsu.escapeHTML(i.join(", "))+"</div>";this.$place.append(o),this.browser.displayContent(this.$place,e,null,"search")}else this.$place.html('<div class="messages"><div class="message info">'+jsu.translateHTML("No results.")+"</div></div>")},MSBrowserSearch.prototype.refreshDisplay=function(e){e&&this.lastResponse&&(this.lastResponse=null),this.lastResponse?this._onAjaxResponse(this.lastResponse):this.onSearchSubmit(!0)},MSBrowserSearch.prototype.remove=function(e){this.browser.removeOidFromTab(this,e)},MSBrowser.prototype.init=function(){if(this.initialized)return;this.initialized=!0,"thumbnail"==jsu.getCookie("catalog-displayMode")&&(this.displayAsThumbnails=!0,this.useOverlay||$("#container").removeClass("max-width-1200")),"yes"==jsu.getCookie("catalog-displayTypesIcons")&&(this.displayTypesIcons=!0);const e=this.parseUrl();if(!this.useOverlay){this.pickMode=!1;const t=[];if(e.iframe&&(this.iframeMode=!0,this.urlLogin="/login/iframe/",t.push("iframe")),e.login&&t.push("login="+window.encodeURIComponent(e.login)),this.hideHeader&&t.push("header=no"),e.speaker&&(this.filterSpeaker=e.speaker,t.push("speaker="+window.encodeURIComponent(this.filterSpeaker))),e.mine&&(this.filterSpeaker="self",t.push("mine"),this.treeManager=!1),e.lti&&(this.ltiMode=!0,t.push("lti")),e.newtab&&(this.linksTarget=' target="Blank"',t.push("newtab")),e.categories&&(this.filterCategories=e.categories.toString().split(","),t.push("categories="+window.encodeURIComponent(e.categories))),e.pick&&(this.pickMode=!0,e.pick.toString().match(/^[cvlp]+$/)?(this.selectableContent=e.pick,this.displayableContent=e.pick,this.displayableContent.indexOf("c")<0&&(this.displayableContent="c"+this.displayableContent)):(this.selectableContent="vlp",this.displayableContent="cvlp"),t.push("pick="+this.selectableContent),!this.initialOid&&e.initial&&(this.initialOid=e.initial.toString(),t.push("initial="+window.encodeURIComponent(this.initialOid)))),e.return&&(window.parent&&0===e.return.toString().indexOf("postMessageAPI")||0===e.return.toString().indexOf("/")&&e.return.toString().length>1)){this.pickMode||(this.pickMode=!0,this.selectableContent="vlp",this.displayableContent="cvlp",t.push("pick="+this.selectableContent)),t.push("return="+e.return);const s=e.return;this.onPick=function(e,t){if(!t)if(0===s.indexOf("postMessageAPI")){const a=window.opener?window.opener.parent:window.parent,n=s.substring("postMessageAPI".length).replace(/^:+|:+$/g,"");console.log("Posting message:",{item:e,initialPick:Boolean(t),target:n}),a.postMessage({item:e,initialPick:Boolean(t),target:n},"*"),window.opener&&window.close()}else window.location=s+(-1!==s.indexOf("?")?"&":"?")+"oid="+e.oid}}t.length>0&&(this.linksUrlParams=t.join("&"),this.urlLogin+="?"+this.linksUrlParams,this.urlChannels+="?"+this.linksUrlParams,this.urlLatest+="?"+this.linksUrlParams,this.urlSearch+="?"+this.linksUrlParams)}this.initOptions.browser=this,this.currentSelection&&this.currentSelection.oid&&(0!==this.currentSelection.oid.indexOf("c")&&isNaN(parseInt(this.currentSelection.oid,10))?this.initOptions.currentChannelOid=this.currentSelection.parent_oid:this.initOptions.currentChannelOid=this.currentSelection.oid),this.channels=new MSBrowserChannels(this.initOptions),this.latest=new MSBrowserLatest(this.initOptions),this.search=new MSBrowserSearch(this.initOptions),this.buildWidget(),this.initialState&&this.initialState.tab?this.changeTab(this.initialState.tab,!0):this.changeTab("channels",!0),this.initialOid&&this.pick(this.initialOid,null,!0);const t=this;this.useOverlay?this.overlay=new OverlayDisplayManager:$(window).bind("hashchange",function(){t.onUrlChange()}),this.loadCategories(),$(window).resize(function(){t.onResize()}),this.onResize()},MSBrowser.prototype.open=function(){this.useOverlay&&(this.init(),this.overlay.show({title:this.title,html:this.$widget}))},MSBrowser.prototype.updateCatalog=function(e,t){if(e&&e.oid)if(this.catalog[e.oid]){let s;for(s in e)this.catalog[e.oid][s]=e[s];t&&(this.catalog[e.oid].is_full=!0)}else t&&(e.is_full=!0),this.catalog[e.oid]=e},MSBrowser.prototype.getInfoForOid=function(e,t,s){const a=e&&("v"==e[0]||"l"==e[0]||"p"==e[0]);return this.getInfo({oid:e},a,t,s)},MSBrowser.prototype.getInfoForSlug=function(e,t,s,a){return this.getInfo({slug:e},t,s,a)},MSBrowser.prototype.getInfo=function(e,t,s,a){if(!e.oid&&!e.slug||!a)return;const n=e.oid?"oid":"slug";let i,o=null;for(i in this.catalog)if((!t&&"c"==i[0]||t&&"c"!=i[0])&&this.catalog[i][n]==e[n]){s?this.catalog[i].is_full&&(o=this.catalog[i]):o=this.catalog[i];break}if(o)return a({success:!0,info:o});this.displayLoading(),s&&(e.full="yes");const l=t?"getMedias":"getChannels",r=this;this.msapi.ajaxCall(l,e,function(e){e.success&&r.updateCatalog(e.info,s),r.hideLoading(),a(e)})},MSBrowser.prototype.pick=function(e,t,s){if(null==e)return void(this.currentSelection&&this.currentSelection.oid&&$(".item-entry-"+this.currentSelection.oid,this.$main).removeClass("selected"));if(this.catalog[e]&&this.catalog[e].is_full)return void this._pick(e,{success:!0,info:this.catalog[e]},t,s);const a=this;this.getInfoForOid(e,!0,function(n){a._pick(e,n,t,s)})},MSBrowser.prototype._pick=function(e,t,s,a){t.success?this.pickMode?(this.currentSelection&&this.currentSelection.oid&&$(".item-entry-"+this.currentSelection.oid,this.$main).removeClass("selected"),this.currentSelection=this.catalog[e],$(".item-entry-"+this.currentSelection.oid,this.$main).addClass("selected"),this.overlay&&!a&&this.overlay.hide(),this.onPick&&this.onPick(this.catalog[e],a),a&&(0!==e.indexOf("c")&&isNaN(parseInt(e,10))?!this.useOverlay&&t.info.parent_slug?window.location.hash="#"+t.info.parent_slug:this.useOverlay&&t.info.parent_oid&&this.channels.displayChannel(t.info.parent_oid):!this.useOverlay&&t.info.slug?window.location.hash="#"+t.info.slug:this.useOverlay&&t.info.oid&&this.channels.displayChannel(t.info.oid))):"delete"==s&&window.deleteFormManager&&window.deleteFormManager.show(e,this.catalog[e].title):console.log("Unable to get info about initial selection:"+t.error)},MSBrowser.prototype.deleteOrRestore=function(e,t){let s=(t?jsu.translate("This will restore"):jsu.translate("This will definitively delete"))+" ";1===e.length?s+='"'+e[0].title+'"':s+=e.length+" "+jsu.translate("items"),s+=".\n"+jsu.translate("Are you sure?"),confirm(s.replace("&nbsp;"," "))&&window.deleteFormManager.deleteOrRestoreItems(e,t)},MSBrowser.prototype.remove=function(e){e&&this.catalog[e]&&(this.channels.remove(e),this.latest.remove(e),this.search.remove(e))},MSBrowser.prototype.getLastPick=function(){return this.currentSelection},MSBrowser.prototype.getSelectedOid=function(){return this.initialized?this.currentSelection?this.currentSelection.oid:null:this.initialOid},MSBrowser.prototype.parseUrl=function(){const e={},t=window.location.search?window.location.search.substring(1):null;if(t){const s=t.split("&");for(let t=0;t<s.length;t++){let a,n;-1!=s[t].indexOf("=")?(a=s[t].substring(0,s[t].indexOf("=")),n="on"==(n=s[t].substring(a.length+1))||"off"!=n&&window.decodeURIComponent(n.replace(/\+/g,"%20"))):(a=s[t],n=!0),"in_"==a.substring(0,3)?e.hasInVals=!0:"for_"==a.substring(0,4)&&(e.hasForVals=!0),e[a]=n}}return e},MSBrowser.prototype.onUrlChange=function(){const e=window.location.pathname+window.location.search;if(0===e.indexOf("/channels/")){let e=window.location.hash;e&&"#"==e[0]&&(e=e.substring(1)),e?this.channels.displayChannelBySlug(e):"self"==this.filterSpeaker?this.channels.displayPersonalChannel():this.channels.displayChannel("0"),this.changeTab("channels",!0)}else 0===e.indexOf("/latest/")?this.changeTab("latest",!0):0===e.indexOf("/search/")&&(this.search.onUrlChange(),this.changeTab("search",!0))},MSBrowser.prototype.onResize=function(){if(this.useOverlay){const e=$(window).width()-70;this.$widget.width(e);const t=$(window).height()-100;this.$widget.height(t)}},MSBrowser.prototype.loadCategories=function(){const e=this;this.msapi.ajaxCall("listCategories",{},function(t){t.data&&(e.siteSettingsCategories=t.data,e.displayCategories())})},MSTreeManager.prototype.init=function(){if(this.loaded||this.loading)return;if(!this.$place)return console.log("No place defined for tree.");if(!this.$place.length)return console.log("Place for tree doesn't exist. Requested place:",this.$place);for(this.loading=!0,window.location.search&&(this.channelsBaseUrl=this.channelsBaseUrl.substring(0,this.channelsBaseUrl.length-1)+window.location.search+"#"),this.idPrefix="";$("#"+this.idPrefix+"tree_channel_0").length>0;)this.idPrefix+="_";let e="<div>";this.displayRoot&&(e+='<div id="'+this.idPrefix+'tree_channel_0_link" '+("0"==this.currentChannelOid?'class="channel-active"':"")+">",this.onChange?e+='<button type="button" data-ref="0" class="channel-btn"'+("0"==this.currentChannelOid?'title="'+jsu.translateAttribute("Root")+" "+jsu.translateAttribute("selected")+'"':"")+">"+jsu.translateHTML("Root")+"</button>":e+='<a href="'+this.channelsBaseUrl+'" class="channel-btn"'+("0"==this.currentChannelOid?'title="'+jsu.translateAttribute("Root")+" "+jsu.translateAttribute("selected")+'"':"")+">"+jsu.translateHTML("Root")+"</a>",e+="</div>"),e+='<ul class="list js-active-item border-color-green active" id="'+this.idPrefix+'tree_channel_0"></ul></div>',this.$widget=$(e),this.displayRoot&&this.onChange&&$(".channel-btn",this.$widget).click({obj:this},function(e){e.data.obj.onChange($(this).attr("data-ref"))});const t=this;this.loading=!1,this.loadTree("0",function(e){if(t.loaded=!0,e.success&&t.initialOid&&t.currentChannelOid==t.initialOid&&t.openTree(t.currentChannelOid),t.displayPersonal&&t.hasPersonalChannel){const e=$('<button type="button" class="button channel-personal-btn"><i class="fa fa-bookmark" aria-hidden="true"></i> <span>'+jsu.translateHTML("My channel")+"</span></button>");e.click({obj:t},function(e){e.data.obj.openPersonalChannel()}),t.$widget.prepend(e)}t.$place.empty(),t.$place.append(t.$widget),t.onTreeLoaded&&t.onTreeLoaded()})},MSTreeManager.prototype.loadTree=function(e,t){if(void 0===e)return;if(this.content[e]&&this.content[e].loaded)return void(t&&t({success:!0,oid:e}));if(this.loading)return void(this.loadingQueue[e]=t);this.loading=!0,this.content[e]||(this.content[e]={oid:e});const s={recursive:"no"};"0"!=e&&(s.parent_oid=e);const a=this,n=$("#"+this.idPrefix+"tree_channel_"+e,this.$widget);if(!n.length)return this.loading=!1,void(t&&t({success:!0,oid:e}));this.content[e].timeout=setTimeout(function(){a.content[e].timeout=null,n.css("display","block"),n.html('<li style="display: block;"><i class="fa fa-spinner fa-spin" aria-hidden="true"></i> '+jsu.translateHTML("Loading")+"...</li>")},500);const i=this.treeUrl?"GET:"+this.treeUrl:"getChannelsTree";this.msapi.ajaxCall(i,s,function(s){if(s.error){if(s.errorCode)switch(s.errorCode){case 401:return a._onTreeLoaded({success:!1,error:jsu.translate("Unable to get channels tree because you are not logged in.")},e,n,t);case 403:return a._onTreeLoaded({success:!1,error:jsu.translate("Unable to get channels tree because you cannot access to this channel.")},e,n,t);case 404:return a._onTreeLoaded({success:!1,error:jsu.translate("Channel does not exist.")},e,n,t);case 500:return a._onTreeLoaded({success:!1,error:jsu.translate("An error occurred in the server. Please try again later.")},e,n,t)}a._onTreeLoaded({success:!1,error:jsu.escapeHTML(s.error)},e,n,t)}else a._onTreeLoaded(s,e,n,t)})},MSTreeManager.prototype._onTreeLoaded=function(e,t,s,a){let n;if(this.content[t].timeout&&(clearTimeout(this.content[t].timeout),delete this.content[t].timeout),e.success){if(e.channels){let a="";for(let s=0;s<e.channels.length;s++){const i=e.channels[s];if(i.parent_oid="0"!=t?t:"0",this.content[i.oid]){let e;for(e in i)this.content[i.oid][e]=i[e]}else this.content[i.oid]=i;this.onDataRetrieved&&this.onDataRetrieved(i);let o="";i.channels&&(o='<button type="button" aria-expanded="false" aria-controls="tree_channel_'+i.oid+'" aria-label="'+jsu.escapeAttribute(i.title)+'" data-ref="'+i.oid+'" class="channel-toggle button-text list-entry"><i class="fa fa-fw fa-angle-right" aria-hidden="true"></i></button>'),a+='<li><span id="'+this.idPrefix+"tree_channel_"+i.oid+'_link" data-ref="'+i.oid+'" class="'+(this.onChange?"":"aside-list-btn")+(this.currentChannelOid==i.oid?" channel-active":"")+'">'+o,this.onChange?a+="<button "+(i.language?'lang="'+jsu.escapeAttribute(i.language)+'"':"")+' type="button" data-ref="'+i.oid+'" class="channel-btn"'+(this.currentChannelOid==i.oid?' title="'+jsu.escapeAttribute(i.title+" "+jsu.translate("selected"))+'"':"")+">"+jsu.escapeHTML(i.title)+"</button>":a+="<a "+(i.language?'lang="'+jsu.escapeAttribute(i.language)+'"':"")+' href="'+this.channelsBaseUrl+i[this.channelsUrlField]+'" class="channel-btn">'+jsu.escapeHTML(i.title)+"</a>",a+="</span>",i.channels&&(a+='<ul class="list border-color-green" id="'+this.idPrefix+"tree_channel_"+i.oid+'"></ul>'),a+="</li>",void 0!==this.loadingQueue[i.oid]&&(n={oid:i.oid,cb:this.loadingQueue[i.oid]},delete this.loadingQueue[i.oid])}const i=$(a);s.empty(),s.append(i),this.onChange&&$(".channel-btn",i).click({obj:this},function(e){e.data.obj.onChange($(this).attr("data-ref"))}),$(".channel-toggle",i).click({obj:this},function(e){e.stopPropagation(),e.data.obj.toggleChannel($(this).attr("data-ref"))}),$(".aside-list-btn",i).click({obj:this},function(e){e.stopPropagation(),e.data.obj.toggleChannel($(this).attr("data-ref"))})}this.content[t].loaded=!0,e.personal_channel&&(this.hasPersonalChannel=!0)}else e.error?s.html('<li class="error">'+jsu.escapeHTML(e.error)+"</li>"):s.html('<li class="error">'+jsu.translateHTML("No information about error.")+"</li>");this.loading=!1,n&&this.loadTree(n.oid,n.cb),a&&(e.oid=t,a(e))},MSTreeManager.prototype.openTree=function(e){if("0"==e)return;const t=this,s=function(){const s=[];let a=t.content[e];for(;a;)s.push(a.oid),a=t.content[a.parent_oid];s.reverse();for(let e=0;e<s.length;e++)"0"!=s[e]&&t.loadTree(s[e],function(e){$("#"+t.idPrefix+"tree_channel_"+e.oid,t.$widget).css("display","block").addClass("active"),$("#"+t.idPrefix+"tree_channel_"+e.oid+"_link .channel-toggle",t.$widget).addClass("fa-rotate-90"),$("#"+t.idPrefix+"tree_channel_"+e.oid+"_link .channel-toggle",t.$widget).attr("aria-expanded",!0)})};this.content[e]||(this.content[e]={oid:e}),void 0===this.content[e].parent_oid?this.loadPath(e,function(a){let n=[];a.path&&a.path.length>0&&(n=a.path),n.push(t.content[e]);for(let e=0;e<n.length;e++){const s=n[e];if(s.parent_oid=e>0?n[e-1].oid:"0",t.content[s.oid]){let e;for(e in s)t.content[s.oid][e]=s[e]}else t.content[s.oid]=s;t.onDataRetrieved&&t.onDataRetrieved(s)}s()}):s()},MSTreeManager.prototype.closeTree=function(e){$("#"+this.idPrefix+"tree_channel_"+e,this.$widget).css("display","none").removeClass("active"),$("#"+this.idPrefix+"tree_channel_"+e+"_link .channel-toggle",this.$widget).attr("aria-expanded",!1),$("#"+this.idPrefix+"tree_channel_"+e+"_link .channel-toggle",this.$widget).removeClass("fa-rotate-90")},MSTreeManager.prototype.toggleChannel=function(e){$("#"+this.idPrefix+"tree_channel_"+e+"_link .channel-toggle",this.$widget).hasClass("fa-rotate-90")?this.closeTree(e):this.openTree(e)},MSTreeManager.prototype.setActive=function(e){this.currentChannelOid!=e&&($(".channel-active button",this.$widget).removeAttr("title"),$(".channel-active",this.$widget).removeClass("channel-active"),this.currentChannelOid=e,$("#"+this.idPrefix+"tree_channel_"+this.currentChannelOid+"_link",this.$widget).addClass("channel-active"),$("#"+this.idPrefix+"tree_channel_"+this.currentChannelOid+"_link button",this.$widget).attr("title",$("#"+this.idPrefix+"tree_channel_"+this.currentChannelOid+"_link",this.$widget).text()+" "+jsu.translate("selected")),this.openTree(e))},MSTreeManager.prototype.loadPath=function(e,t){const s={oid:e},a=this.pathUrl?"GET:"+this.pathUrl:"getChannelsPath";this.msapi.ajaxCall(a,s,function(s){s.error?console.log("Error getting path for oid "+e+". Error: "+s.error):t(s)})},MSTreeManager.prototype.openPersonalChannel=function(){const e=this,t=function(t){t.success?(e.personalChannelInfo=t,$(".channel-personal-btn span",e.$widget).text(jsu.translate("My channel")),e.openTree(t.oid),e.onChange?e.onChange(t.oid):window.location.hash="#"+t.slug):$(".channel-personal-btn span",e.$widget).text(jsu.translate("My channel")+" ("+t.xhr.status+")")};this.personalChannelInfo?t(this.personalChannelInfo):this.msapi.ajaxCall("getChannelsPersonal",{},function(e){t(e)})};