function MSAPIClient(e){this.base_url="",this.use_proxy=!1,this.extra_data=null,this.defaults_errors_messages={401:utils.translate("You are not logged in or your session has expired. Please login and retry."),403:utils.translate("Access denied."),404:utils.translate("Item not found."),500:utils.translate("An internal server error occurred. An email has been sent to the support team."),timeout:utils.translate("The connection timed out. Please retry later."),unreachable:utils.translate("The server cannot be reached.")},this.calls={ping:{method:"GET",url:"/api/v2/"},search:{method:"GET",url:"/api/v2/search/",errors:{403:utils.translate("Unable to get search's results content because you cannot access to this channel."),404:utils.translate("Requested channel does not exist.")}},get_latest_content:{method:"GET",url:"/api/v2/latest/"},get_channels_list:{method:"GET",url:"/api/v2/channels/"},get_channels_content:{method:"GET",url:"/api/v2/channels/content/",errors:{403:utils.translate("Unable to get channel content because you cannot access to this channel."),404:utils.translate("Requested channel does not exist.")}},get_channels:{method:"GET",url:"/api/v2/channels/get/",errors:{403:utils.translate("Unable to get channel information because you cannot access to this channel."),404:utils.translate("Requested channel does not exist.")}},get_channels_tree:{method:"GET",url:"/api/v2/channels/tree/",errors:{403:utils.translate("Unable to get channels tree because you cannot access to this channel."),404:utils.translate("Requested channel does not exist.")}},get_channels_path:{method:"GET",url:"/api/v2/channels/path/",errors:{403:utils.translate("Unable to get channels path because you cannot access to this channel."),404:utils.translate("Requested channel does not exist.")}},get_channels_personal:{method:"GET",url:"/api/v2/channels/personal/"},get_medias_list:{method:"GET",url:"/api/v2/medias/"},get_medias:{method:"GET",url:"/api/v2/medias/get/",errors:{403:utils.translate("Unable to get media information because you cannot access to this media."),404:utils.translate("Media does not exist.")}},add_medias:{method:"POST",url:"/api/v2/medias/add/"},medias_resources_check:{method:"POST",url:"/api/v2/medias/resources-check/"},medias_trimming_child_init:{method:"POST",url:"/api/v2/medias/trimming-child-init/"},medias_get_upload_config:{method:"GET",url:"/api/v2/medias/get-upload-config/"},get_lives_list:{method:"GET",url:"/api/v2/lives/"},prepare_lives:{method:"POST",url:"/api/v2/lives/prepare/"},start_lives:{method:"POST",url:"/api/v2/lives/start/"},stop_lives:{method:"POST",url:"/api/v2/lives/stop/",errors:{403:utils.translate("You are not allowed to perform this action."),404:utils.translate("Media does not exist.")}},lives_change_slides:{method:"POST",url:"/api/v2/lives/change-slide/"},lives_change_status:{method:"POST",url:"/api/v2/lives/change-status/"},lives_get_viewers:{method:"GET",url:"/api/v2/lives/get-viewers/"},list_media_annotations:{method:"GET",url:"/api/v2/annotations/list/"},list_media_user_annotations:{method:"GET",url:"/api/v2/annotations/list/moderate/"},list_annotations_types:{method:"GET",url:"/api/v2/annotations/types/list/"},vote_for_annotation:{method:"POST",url:"/api/v2/annotations/vote/"},post_annotation:{method:"POST",url:"/api/v2/annotations/post/"},validate_annotation:{method:"POST",url:"/api/v2/annotations/validate/"},unvalidate_annotation:{method:"POST",url:"/api/v2/annotations/unvalidate/"},delete_annotation:{method:"POST",url:"/api/v2/annotations/delete/"},list_media_slides:{method:"GET",url:"/api/v2/annotations/slides/list/"},list_media_resources:{method:"GET",url:"/api/v2/annotations/resources/list/"},list_media_chapters:{method:"GET",url:"/api/v2/annotations/chapters/list/"},list_media_activities:{method:"GET",url:"/api/v2/annotations/activities/list/"},email_notification:{method:"POST",url:"/api/v2/annotations/notification/"},search_annotations:{method:"GET",url:"/api/v2/annotations/search/"},list_categories:{method:"GET",url:"/api/v2/categories/"}},this.configure(e)}MSAPIClient.prototype.configure=function(e){e&&("base_url"in e&&(this.base_url=e.base_url),"use_proxy"in e&&(this.use_proxy=e.use_proxy),"extra_data"in e&&(this.extra_data=e.extra_data))},MSAPIClient.prototype.ajax_call=function(e,t,a,s,n,i){var o,r,l,c,d,u=this.calls[e];if(!u)if(1==(o=e.split(":")).length)u={method:"GET",url:o[0]};else{if(2!=o.length)throw new Error("Invalid call or uri.");u={method:o[0],url:o[1]}}if(r=this.base_url,this.use_proxy?t.action=u.url:(this.base_url||(t.local="yes"),r+=u.url),void 0===r||"undefined"===r)throw new Error("No url to call.");if(this.extra_data)for(l in this.extra_data)t[l]=this.extra_data[l];return c=this,d={url:r,method:u.method,data:t,dataType:"json",cache:!1,success:function(e){if(e.success||e.error||(e.error=e.message?e.message:utils.translate("No information about error.")),a)return a(e)},error:function(e,t,s){var n,i="?";return e.status?i=e.status:"error"==t?i="unreachable":"timeout"==t&&(i="timeout"),(n=u.errors&&i in u.errors?u.errors[i]:"")||(n=i in c.defaults_errors_messages?c.defaults_errors_messages[i]:utils.translate("Request failed:")+" "+s),a({success:!1,error:n,error_code:e.status,xhr:e,textStatus:t,thrownError:s})}},(void 0===s||s)&&(d.async=s),n&&(d.processData=!1,d.enctype="multipart/form-data",d.contentType=!1),i&&(d.xhr=i),$.ajax(d)},MSAPIClient.prototype.get_storage_display=function(e){var t,a,s,n="";return null!==e.storage_used&&void 0!==e.storage_used&&(n='<span class="storage-usage">'+utils.get_size_display(e.storage_used),e.storage_quota>0&&(n+=" / "+e.storage_quota+" G"+utils.translate("B"),(t=Math.round(e.storage_used/1073741824*100/e.storage_quota))>100&&(t=100),a="",e.storage_warning&&t>e.storage_warning&&(a=" red"),n+='<span class="progress-bar inline-block'+a+'" aria-hidden="true" style="width: 100%; vertical-align: middle;"><span class="progress-level" style="width: '+t+'%"></span><span class="progress-label">'+t+" %</span></span>"),n+="</span>",(s=this.get_available_storage_display(e))&&(n+=" "+s)),n},MSAPIClient.prototype.get_available_storage_display=function(e){var t,a,s="";return null!==e.storage_available&&void 0!==e.storage_available&&(t="",e.storage_quota>0&&(a=e.storage_used/1073741824*100/e.storage_quota,e.storage_warning&&a>e.storage_warning&&(t=" orange")),s+='<span class="storage-available nowrap">',e.storage_available>0?s+='<span class="'+t+' ">'+utils.translate("Available space:")+" "+utils.get_size_display(e.storage_available)+"</span>":s+='<span class="red">'+utils.translate("No available space")+"</span>",s+=' <button type="button" class="tooltip-button no-padding no-border no-background" aria-describedby="id_storage_help" aria-label="'+utils.translate("help")+'"><i class="fa fa-question-circle fa-fw" aria-hidden="true"></i><span role="tooltip" id="id_storage_help" class="tooltip-hidden-content">'+utils.translate("The storage quota of the parent channels can have an impact on the available space of this channel.")+"</span></button>",s+="</span>"),s},utils.add_translations({"Access denied.":"Accès refusé.","Add a channel":"Ajouter une chaîne","Add a sub channel":"Ajouter une sous chaîne","Add a video":"Ajouter une vidéo","Add date, ascending":"Date d'ajout, croissante","Add date, descending":"Date d'ajout, décroissante","Added on":"Ajouté le",all:"tout","An error occurred during request:":"Une erreur est survenue pendant la requête :","An error occurred in the server. Please try again later.":"La requête a échoué. Veuillez réessayer plus tard.","An internal server error occurred. An email has been sent to the support team.":"Une erreur interne au serveur est survenue. Un email a été envoyé à l'équipe de support afin de résoudre le problème.","Annotations last month":"Annotations ce mois",Annotations:"Annotations",annotations:"annotations",Apply:"Appliquer",April:"avril",at:"à",August:"ao&ucirc;t","Available space:":"Espace disponible :",B:"o","cannot copy":"impossible de copier",Categories:"Catégories",categories:"catégories","Channel content:":"Contenu de la chaîne :",channel:"chaîne","channel(s)":"chaîne(s)","Channel:":"Chaîne :","Channels list":"Liste des chaînes",channels:"chaînes",Channels:"Chaînes",chapters:"chapitres","classic RichMedia":"RichMedia classique","Click to display the content of this channel":"Cliquez pour afficher cette chaîne","Click to select this media":"Cliquez pour sélectionner ce média","comments, slides, ...":"commentaires, diapositives, ...",companies:"sociétés","Content types to display:":"Types de contenu à afficher :","Content types":"Types de contenu",copied:"copié","Copy LTI link":"Copier le lien LTI","Created on":"Créé le","Creation date, ascending":"Date de création, croissante","Creation date, descending":"Date de création, décroissante","Current channel":"Chaîne courante",December:"d&eacute;cembre",descriptions:"descriptions","Display channel":"Afficher la chaîne","Display channels":"Afficher les chaînes","display items type icons":"afficher les icônes de type des éléments","Display mode:":"Mode d'affichage :","Display parent channel":"Afficher la chaîne parente","Display {count} more items":"Afficher {count} vidéos de plus",Display:"Affichage",Duration:"Durée","dynamic RichMedia":"RichMedia dynamique","Edit it":"Éditer","Edit this channel":"Éditer cette chaîne",Edit:"Éditer","Editable:":"Éditable:","failed to copy":"échec de la copie",February:"f&eacute;vrier","Filters:":"Filtres :",Go:"Envoyer",help:"aide","Hide this window":"Fermer cette fenêtre","Information about media":"Informations sur le média","Item not found.":"Élément introuvable.","iTunes (audio only)":"iTunes (audio uniquement)",January:"janvier",July:"juillet",June:"juin",keywords:"mots clés","Latest content added":"Contenu récemment ajouté","Latest content":"Contenu récent",licenses:"licences",list:" liste","live stream(s)":"diffusion(s) en direct","live streams":"diffusions en direct","Live streams":"Diffusions en direct",Loading:"Chargement","Loading...":"Chargement ...",locations:"emplacements","Main channels":"Chaînes principales",March:"mars","Matching annotations:":"Annotations correspondantes :","Matching items:":"Éléments correspondants :","Matching photos:":"Photos correspondantes :",May:"mai","Media does not exist.":"Le média n'existe pas.","My channel":"Ma chaîne","My media":"Mes médias","No available space":"Pas d'espace disponible","No contents.":"Pas de contenu.","No information about error.":"Informations sur le média","No information about media.":"Pas d'informations sur le média","No results.":"Pas de résultats.",no:"non",none:"aucun",November:"novembre","Number of annotations, ascending":"Nombre de annotations, croissant","Number of annotations, descending":"Nombre de annotations, décroissant","Number of views, ascending":"Nombre de vues, croissant","Number of views, descending":"Nombre de vues, décroissant",October:"octobre","Open information panel":"Ouvrir le panneau d'information","Parent channel":"Chaîne parente","Parent channel:":"Chaîne parente :","photos group(s)":"groupe(s) de photos","photos groups":"groupes de photos","Photos groups":"Groupes de photos",photos:"photos","Please login to access this channel":"Veuillez vous connecter pour accéder à cette chaîne","Published:":"Publié:","Publishing date":"Date de publication","Recording date":"Date d'enregistrement","Requested channel does not exist.":"La chaîne demandée n'existe pas.",Root:"Racine","Search for":"Contenu à rechercher","Search in my media":"Rechercher dans mes médias","Search in progress":"Recherche en cours","Search in":"Rechercher dans","Search results for:":"Résultats de recherche pour:",Search:"Rechercher","Search:":"Rechercher :",See:"Voir","Select a channel to display its content.":"Sélectionnez une chaîne pour afficher son contenu.","Select a channel":"Sélectionner une chaîne","Select a media":"Sélectionner un média","Select this channel":"Sélectionner cette chaîne","Select this media":"Sélectionner ce média",September:"septembre","Sign in":"Connection","Some contents may still exist in this channel but if it is the case your account is not allowed to see them.":"Du contenu peut tout de même être présent dans cette chaîne mais si c'est le cas, votre compte utilisateur ne possède pas la permission de le voir.","Sort by:":"Trier par :",Speaker:"Intervenant","Speaker:":"Intervenant :",speakers:"intervenants",standard:"standard","Storage usage:":"Stockage utilisé :","Sub channels items are included in counts.":"Les éléments contenus dans les sous chaînes sont inclus dans les comptes.","Sub channels":"Sous chaînes","Subscribe to channel videos RSS":"S'abonner au flux RSS des vidéos de la chaîne","Subscribe to channel videos RSS:":"S'abonner au flux RSS des vidéos de la chaîne :","The connection timed out. Please retry later.":"Le délai d'attente de réponse a été dépassé. Veuillez réessayez plus tard.","The query has been found in audio:":"Le mot recherché a été trouvé dans la bande audio de cette vidéo :","The query has been found in following photos:":"Le mot recherché a été trouvé dans les photos suivantes :","The query has been found in following slides:":"Le mot recherché a été trouvé dans les diapositives suivantes :","The server cannot be reached.":"Le serveur est injoignable.","The storage quota of the parent channels can have an impact on the available space of this channel.":"Le quota de stockage des chaînes en amont peut avoir un impact sur l'espace disponible dans cette chaîne.","This channel contains no media.":"Cette chaîne ne contient pas de médias","This channel contains no sub channels and no media.":"Cette chaîne ne contient pas de sous chaînes ni de médias","This channel contains no sub channels.":"Cette chaîne ne contient pas de sous chaînes","This channel is selected":"Cette chaîne est sélectionnée","This channel is unlisted":"Cette chaîne est non listée","This item is a channel":"Cet élément est une chaîne","This item is a live stream":"Cet élément est une diffusion en direct","This item is a photos group":"Cet élément est un groupe de photos","This item is a video":"Cet élément est une vidéo","This list presents all media and channels ordered by add date.":"Cette liste présente les derniers éléments ajoutés triés par date d'ajout.","This media is not published":"Ce média n'est pas publié","This media is published and unlisted":"Ce média est publié et non listé","This media is published":"Ce média est publié","This media is selected":"Ce média est sélectionné","this month":"ce mois","This video is not ready":"Cette vidéo n'est pas prête",thumbnails:"vignettes","Title, ascending":"Titre, croissant","Title, descending":"Titre, décroissant",titles:"titres","Type:":"Type :","Unable to get channel content because you cannot access to this channel.":"Impossible d'obtenir la liste du contenu de la chaîne car vous ne disposez pas du droit d'accès à cette chaîne.","Unable to get channel content. Request timed out.":"Impossible d'obtenir le contenu de la chaîne. Délai d'attente pour la requête expiré.","Unable to get channel information because you cannot access to this channel.":"Impossible d'obtenir les informations sur la chaîne car vous ne pouvez pas accéder à cette chaîne.","Unable to get channels tree because you are not logged in.":"Impossible d'obtenir la liste des chaînes, vous n'êtes pas authentifié","Unable to get channels tree because you cannot access to this channel.":"Impossible d'obtenir la liste du contenu de la chaîne car vous ne disposez pas du droit d'accès à cette chaîne.","Unable to get channels tree. Request timed out.":"Impossible d'obtenir la liste des chaînes. Délai d'attente de la requête écoulé.","Unable to get media information because you cannot access to this media.":"Impossible d'obtenir les informations sur le média car vous ne pouvez pas accéder à ce média.","Unable to get media information. Request timed out.":"Impossible d'obtenir les informations sur le média. Délai d'attente de la requête écoulé.","Unable to get search's results content because you cannot access to this channel.":"Impossible d'obtenir les résultats de la recherche car vous ne disposez pas du droit d'accès à cette chaîne.",unspecified:"non spécifié",Unspecified:"Non spécifié","Use channel default sorting":"Utiliser le tri par défaut des chaînes","Use the input above to search for something.":"Utilisez le champ de texte ci dessus pour rechercher du contenu.",video:"vidéo","video(s)":"vidéo(s)",videos:"vidéos",Videos:"Vidéos","Views last month":"Vues ce mois",Views:"Vues",views:"vues",yes:"oui",selected:"sélectionné","You are not allowed to have a personnal channel.":"Vous n'avez pas la permission de disposer d'une chaîne personnelle.","You are not logged in or your session has expired. Please login and retry.":"Vous n'êtes pas connecté ou votre session a expiré. Veuillez vous reconnecter puis réessayez."},"fr");